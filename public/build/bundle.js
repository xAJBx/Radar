var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function l(t,e,n){t.$$.on_destroy.push(s(e,n))}function u(t,e,n,i){if(t){const r=c(t,e,n,i);return t[0](r)}}function c(t,n,i,r){return t[1]&&r?e(i.ctx.slice(),t[1](r(n))):i.ctx}function h(t,e,n,i,r,o,a){const s=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(s){const r=c(e,n,i,a);t.p(r,s)}}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function x(){return y("")}function w(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function O(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t){return""===t?null:+t}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function P(t,e){t.value=null==e?"":e}function T(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let _;function S(t){_=t}function $(){if(!_)throw new Error("Function called outside component initialization");return _}function L(t){$().$$.on_mount.push(t)}function M(t){$().$$.on_destroy.push(t)}function D(t,e){$().$$.context.set(t,e)}function N(t){return $().$$.context.get(t)}const E=[],j=[],H=[],z=[],R=Promise.resolve();let I=!1;function F(t){H.push(t)}let W=!1;const B=new Set;function Y(){if(!W){W=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];S(e),U(e.$$)}for(S(null),E.length=0;j.length;)j.pop()();for(let t=0;t<H.length;t+=1){const e=H[t];B.has(e)||(B.add(e),e())}H.length=0}while(E.length);for(;z.length;)z.pop()();I=!1,W=!1,B.clear()}}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const q=new Set;let G;function V(){G={r:0,c:[],p:G}}function J(){G.r||r(G.c),G=G.p}function X(t,e){t&&t.i&&(q.delete(t),t.i(e))}function K(t,e,n,i){if(t&&t.o){if(q.has(t))return;q.add(t),G.c.push(()=>{q.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function Q(t,e){const n=e.token={};function i(t,i,r,o){if(e.token!==n)return;e.resolved=o;let a=e.ctx;void 0!==r&&(a=a.slice(),a[r]=o);const s=t&&(e.current=t)(a);let l=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==i&&t&&(V(),K(t,1,1,()=>{e.blocks[n]=null}),J())}):e.block.d(1),s.c(),X(s,1),s.m(e.mount(),e.anchor),l=!0),e.block=s,e.blocks&&(e.blocks[i]=s),l&&Y()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=$();if(t.then(t=>{S(n),i(e.then,1,e.value,t),S(null)},t=>{if(S(n),i(e.catch,2,e.error,t),S(null),!e.hasCatch)throw t}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}var r}function Z(t){return"object"==typeof t&&null!==t?t:{}}function tt(t){t&&t.c()}function et(t,e,i){const{fragment:a,on_mount:s,on_destroy:l,after_update:u}=t.$$;a&&a.m(e,i),F(()=>{const e=s.map(n).filter(o);l?l.push(...e):r(e),t.$$.on_mount=[]}),u.forEach(F)}function nt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(E.push(t),I||(I=!0,R.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,o,a,s,l,u=[-1]){const c=_;S(e);const h=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:u,skip_bound:!1};let f=!1;if(d.ctx=o?o(e,h,(t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),f&&it(e,t)),n}):[],d.update(),f=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();n.intro&&X(e.$$.fragment),et(e,n.target,n.anchor),Y()}S(c)}class ot{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const at=[];function st(e,n=t){let i;const r=[];function o(t){if(a(e,t)&&(e=t,i)){const t=!at.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),at.push(n,e)}if(t){for(let t=0;t<at.length;t+=2)at[t][0](at[t+1]);at.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return r.push(l),1===r.length&&(i=n(o)||t),a(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}function lt(e,n,i){const a=!Array.isArray(e),l=a?[e]:e,u=n.length<2;return{subscribe:st(i,e=>{let i=!1;const c=[];let h=0,d=t;const f=()=>{if(h)return;d();const i=n(a?c[0]:c,e);u?e(i):d=o(i)?i:t},p=l.map((t,e)=>s(t,t=>{c[e]=t,h&=~(1<<e),i&&f()},()=>{h|=1<<e}));return i=!0,f(),function(){r(p),d()}}).subscribe}}const ut={},ct={};function ht(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const dt=function(t,e){const n=[];let i=ht(t);return{get location(){return i},listen(e){n.push(e);const r=()=>{i=ht(t),e({location:i,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const i=n.indexOf(e);n.splice(i,1)}},navigate(e,{state:r,replace:o=!1}={}){r={...r,key:Date.now()+""};try{o?t.history.replaceState(r,null,e):t.history.pushState(r,null,e)}catch(n){t.location[o?"replace":"assign"](e)}i=ht(t),n.forEach(t=>t({location:i,action:"PUSH"}))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(t,r,o){const[a,s=""]=o.split("?");e++,n.push({pathname:a,search:s}),i.push(t)},replaceState(t,r,o){const[a,s=""]=o.split("?");n[e]={pathname:a,search:s},i[e]=t}}}}()),ft=/^:(.+)/;function pt(t){return"*"===t[0]}function vt(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function gt(t){return t.replace(/(^\/+|\/+$)/g,"")}function mt(t,e){return{route:t,score:t.default?0:vt(t.path).reduce((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return ft.test(t)}(e)?pt(e)?t-=5:t+=3:t+=2:t+=1,t),0),index:e}}function yt(t,e){let n,i;const[r]=e.split("?"),o=vt(r),a=""===o[0],s=function(t){return t.map(mt).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)}(t);for(let t=0,r=s.length;t<r;t++){const r=s[t].route;let l=!1;if(r.default){i={route:r,params:{},uri:e};continue}const u=vt(r.path),c={},h=Math.max(o.length,u.length);let d=0;for(;d<h;d++){const t=u[d],e=o[d];if(void 0!==t&&pt(t)){c["*"===t?"*":t.slice(1)]=o.slice(d).map(decodeURIComponent).join("/");break}if(void 0===e){l=!0;break}let n=ft.exec(t);if(n&&!a){const t=decodeURIComponent(e);c[n[1]]=t}else if(t!==e){l=!0;break}}if(!l){n={route:r,params:c,uri:"/"+o.slice(0,d).join("/")};break}}return n||i||null}function bt(t,e){return gt("/"===e?t:`${gt(t)}/${gt(e)}`)+"/"}function xt(t){let e;const n=t[6].default,i=u(n,t,t[5],null);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,[e]){i&&i.p&&32&e&&h(i,n,t,t[5],e,null,null)},i(t){e||(X(i,t),e=!0)},o(t){K(i,t),e=!1},d(t){i&&i.d(t)}}}function wt(t,e,n){let i,r,o,{$$slots:a={},$$scope:s}=e,{basepath:u="/"}=e,{url:c=null}=e;const h=N(ut),d=N(ct),f=st([]);l(t,f,t=>n(10,o=t));const p=st(null);let v=!1;const g=h||st(c?{pathname:c}:dt.location);l(t,g,t=>n(9,r=t));const m=d?d.routerBase:st({path:u,uri:u});l(t,m,t=>n(8,i=t));const y=lt([m,p],([t,e])=>{if(null===e)return t;const{path:n}=t,{route:i,uri:r}=e;return{path:i.default?n:i.path.replace(/\*.*$/,""),uri:r}});return h||(L(()=>dt.listen(t=>{g.set(t.location)})),D(ut,g)),D(ct,{activeRoute:p,base:m,routerBase:y,registerRoute:function(t){const{path:e}=i;let{path:n}=t;if(t._path=n,t.path=bt(e,n),"undefined"==typeof window){if(v)return;const e=function(t,e){return yt([t],e)}(t,r.pathname);e&&(p.set(e),v=!0)}else f.update(e=>(e.push(t),e))},unregisterRoute:function(t){f.update(e=>{const n=e.indexOf(t);return e.splice(n,1),e})}}),t.$$set=t=>{"basepath"in t&&n(3,u=t.basepath),"url"in t&&n(4,c=t.url),"$$scope"in t&&n(5,s=t.$$scope)},t.$$.update=()=>{if(256&t.$$.dirty){const{path:t}=i;f.update(e=>(e.forEach(e=>e.path=bt(t,e._path)),e))}if(1536&t.$$.dirty){const t=yt(o,r.pathname);p.set(t)}},[f,g,m,u,c,s,a]}class kt extends ot{constructor(t){super(),rt(this,t,wt,xt,a,{basepath:3,url:4})}}const Ot=t=>({params:2&t,location:16&t}),At=t=>({params:t[1],location:t[4]});function Ct(t){let e,n,i,r;const o=[Tt,Pt],a=[];function s(t,e){return null!==t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),i=x()},m(t,n){a[e].m(t,n),p(t,i,n),r=!0},p(t,r){let l=e;e=s(t),e===l?a[e].p(t,r):(V(),K(a[l],1,1,()=>{a[l]=null}),J(),n=a[e],n||(n=a[e]=o[e](t),n.c()),X(n,1),n.m(i.parentNode,i))},i(t){r||(X(n),r=!0)},o(t){K(n),r=!1},d(t){a[e].d(t),t&&v(i)}}}function Pt(t){let e;const n=t[10].default,i=u(n,t,t[9],At);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){i&&i.p&&530&e&&h(i,n,t,t[9],e,Ot,At)},i(t){e||(X(i,t),e=!0)},o(t){K(i,t),e=!1},d(t){i&&i.d(t)}}}function Tt(t){let n,i,r;const o=[{location:t[4]},t[1],t[2]];var a=t[0];function s(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s())),{c(){n&&tt(n.$$.fragment),i=x()},m(t,e){n&&et(n,t,e),p(t,i,e),r=!0},p(t,e){const r=22&e?function(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(i[t]=1);for(const t in s)r[t]||(n[t]=s[t],r[t]=1);t[o]=s}else for(const t in a)r[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(o,[16&e&&{location:t[4]},2&e&&Z(t[1]),4&e&&Z(t[2])]):{};if(a!==(a=t[0])){if(n){V();const t=n;K(t.$$.fragment,1,0,()=>{nt(t,1)}),J()}a?(n=new a(s()),tt(n.$$.fragment),X(n.$$.fragment,1),et(n,i.parentNode,i)):n=null}else a&&n.$set(r)},i(t){r||(n&&X(n.$$.fragment,t),r=!0)},o(t){n&&K(n.$$.fragment,t),r=!1},d(t){t&&v(i),n&&nt(n,t)}}}function _t(t){let e,n,i=null!==t[3]&&t[3].route===t[7]&&Ct(t);return{c(){i&&i.c(),e=x()},m(t,r){i&&i.m(t,r),p(t,e,r),n=!0},p(t,[n]){null!==t[3]&&t[3].route===t[7]?i?(i.p(t,n),8&n&&X(i,1)):(i=Ct(t),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(V(),K(i,1,1,()=>{i=null}),J())},i(t){n||(X(i),n=!0)},o(t){K(i),n=!1},d(t){i&&i.d(t),t&&v(e)}}}function St(t,n,i){let r,o,{$$slots:a={},$$scope:s}=n,{path:u=""}=n,{component:c=null}=n;const{registerRoute:h,unregisterRoute:f,activeRoute:p}=N(ct);l(t,p,t=>i(3,r=t));const v=N(ut);l(t,v,t=>i(4,o=t));const g={path:u,default:""===u};let m={},y={};return h(g),"undefined"!=typeof window&&M(()=>{f(g)}),t.$$set=t=>{i(13,n=e(e({},n),d(t))),"path"in t&&i(8,u=t.path),"component"in t&&i(0,c=t.component),"$$scope"in t&&i(9,s=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&r&&r.route===g&&i(1,m=r.params);{const{path:t,component:e,...r}=n;i(2,y=r)}},n=d(n),[c,m,y,r,o,p,v,g,u,s,a]}class $t extends ot{constructor(t){super(),rt(this,t,St,_t,a,{path:8,component:0})}}var Lt,Mt,Dt=(function(t,e){function n(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function i(t){var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function r(t){return null===t.offsetParent}function o(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function a(t){return t.titleHeight+t.margins.top+t.paddings.top}function s(t){return t.margins.left+t.paddings.left}function l(t){return t.margins.top+t.margins.bottom+t.paddings.top+t.paddings.bottom+t.titleHeight+t.legendHeight}function u(t){return t.margins.left+t.margins.right+t.paddings.left+t.paddings.right}function c(t){return parseFloat(t.toFixed(2))}function h(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=i?t[0]:t[t.length-1]);var r=new Array(Math.abs(e)).fill(n);return i?r.concat(t):t.concat(r)}function d(t,e){return(t+"").length*e}function f(t,e){return{x:Math.sin(t*mt)*e,y:Math.cos(t*mt)*e}}function p(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(Number.isNaN(t)||void 0===t||!Number.isFinite(t)||e&&t<0)}function v(t,e){var n=void 0,i=void 0;return t<=e?(n=e-t,i=t):(n=t-e,i=e),[n,i]}function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t.length;return n>0?t=h(t,n):e=h(e,n),[t,e]}function m(t,e){if(t)return t.length>e?t.slice(0,e-3)+"...":t}function y(t){var e=void 0;if("number"==typeof t)e=t;else if("string"==typeof t&&(e=Number(t),Number.isNaN(e)))return t;var n=Math.floor(Math.log10(Math.abs(e)));if(n<=2)return e;var i=Math.floor(n/3),r=Math.pow(10,n-3*i)*+(e/Math.pow(10,n)).toFixed(1);return Math.round(100*r)/100+" "+["","K","M","B","T"][i]}function b(t,e){for(var n=[],i=0;i<t.length;i++)n.push([t[i],e[i]]);var r=function(t,e,n,i){var r=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),angle:Math.atan2(i,n)}}(e||t,n||t),o=r.angle+(i?Math.PI:0),a=.2*r.length;return[t[0]+Math.cos(o)*a,t[1]+Math.sin(o)*a]};return function(t,e){return t.reduce((function(t,e,n,i){return 0===n?e[0]+","+e[1]:t+" "+function(t,e,n){var i=r(n[e-1],n[e-2],t),o=r(t,n[e-1],n[e+1],!0);return"C "+i[0]+","+i[1]+" "+o[0]+","+o[1]+" "+t[0]+","+t[1]}(e,n,i)}),"")}(n)}function x(t){return t>255?255:t<0?0:t}function w(t,e){var n=wt(t),i=!1;"#"==n[0]&&(n=n.slice(1),i=!0);var r=parseInt(n,16),o=x((r>>16)+e),a=x((r>>8&255)+e);return(i?"#":"")+(x((255&r)+e)|a<<8|o<<16).toString(16)}function k(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function O(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e){var r=e[i];if("inside"===i)k(r).appendChild(n);else if("around"===i){var o=k(r);o.parentNode.insertBefore(n,o),n.appendChild(o)}else"styles"===i?"object"===(void 0===r?"undefined":Ot(r))&&Object.keys(r).map((function(t){n.style[t]=r[t]})):("className"===i&&(i="class"),"innerHTML"===i?n.textContent=r:n.setAttribute(i,r))}return n}function A(t,e){return O("linearGradient",{inside:t,id:e,x1:0,x2:0,y1:0,y2:1})}function C(t,e,n,i){return O("stop",{inside:t,style:"stop-color: "+n,offset:e,"stop-opacity":i})}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={className:t,transform:e};return n&&(i.inside=n),O("g",i)}function T(t){return O("path",{className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d:t,styles:{stroke:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",fill:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none","stroke-width":arguments.length>4&&void 0!==arguments[4]?arguments[4]:2}})}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="path-fill-gradient-"+e+"-"+(n?"lighter":"default"),r=A(t,i),o=[1,.6,.2];return n&&(o=[.4,.2,0]),C(r,"0%",e,o[0]),C(r,"50%",e,o[1]),C(r,"100%",e,o[2]),i}function S(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s={className:t,x:e,y:n,width:i,height:i,rx:r,fill:o};return Object.keys(a).map((function(t){s[t]=a[t]})),O("rect",s)}function $(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.fontSize||Tt;return O("text",{className:t,x:e,y:n,dy:(void 0!==r.dy?r.dy:o/2)+"px","font-size":o+"px",fill:r.fill||St,"text-anchor":r.textAnchor||"start",innerHTML:i})}function L(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.stroke||(r.stroke=_t);var o=O("line",{className:"line-vertical "+r.className,x1:0,x2:0,y1:n,y2:i,styles:{stroke:r.stroke}}),a=O("text",{x:0,y:n>i?n+Ct:n-Ct-Tt,dy:Tt+"px","font-size":Tt+"px","text-anchor":"middle",innerHTML:e+""}),s=O("g",{transform:"translate("+t+", 0)"});return s.appendChild(o),s.appendChild(a),s}function M(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.stroke||(r.stroke=_t),r.lineType||(r.lineType=""),r.shortenNumbers&&(e=y(e));var o=O("line",{className:"line-horizontal "+r.className+("dashed"===r.lineType?"dashed":""),x1:n,x2:i,y1:0,y2:0,styles:{stroke:r.stroke}}),a=O("text",{x:n<i?n-Ct:n+Ct,y:0,dy:Tt/2-2+"px","font-size":Tt+"px","text-anchor":n<i?"end":"start",innerHTML:e+""}),s=O("g",{transform:"translate(0, "+t+")","stroke-opacity":1});return 0!==a&&"0"!==a||(s.style.stroke="rgba(27, 31, 35, 0.6)"),s.appendChild(o),s.appendChild(a),s}function D(t,e,n,i){var r="string"==typeof e?e:e.join(", ");return[t,{transform:n.join(", ")},i,Ht,"translate",{transform:r}]}function N(t,e,n){return D(t,[0,n],[0,e],Et)}function E(t,e){return[t,{d:e},Dt,Ht]}function j(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=t.cloneNode(!0),s=t.cloneNode(!0);for(var l in e){var u=void 0;u="transform"===l?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var c=o[l]||t.getAttribute(l),h=e[l],d={attributeName:l,from:c,to:h,begin:"0s",dur:n/1e3+"s",values:c+";"+h,keySplines:Rt[i],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};for(var f in r&&(d.type=r),d)u.setAttribute(f,d[f]);a.appendChild(u),r?s.setAttribute(l,"translate("+h+")"):s.setAttribute(l,h)}return[a,s]}function H(t,e){t.style.transform=e,t.style.webkitTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.oTransform=e}function z(t,e){var n=[],i=[];e.map((function(t){var e,r,o=t[0],a=o.parentNode;t[0]=o;var s=j.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)),l=zt(s,2);e=l[0],r=l[1],n.push(r),i.push([e,a]),a.replaceChild(e,o)}));var r=t.cloneNode(!0);return i.map((function(t,i){t[1].replaceChild(n[i],t[0]),e[i][0]=n[i]})),r}function R(t,e,n){if(0!==n.length){var i=z(e,n);e.parentNode==t&&(t.removeChild(e),t.appendChild(i)),setTimeout((function(){i.parentNode==t&&(t.removeChild(i),t.appendChild(e))}),jt)}}function I(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function F(t){var e=t.getDate(),n=t.getMonth()+1;return[t.getFullYear(),(n>9?"":"0")+n,(e>9?"":"0")+e].join("-")}function W(t){return new Date(t.getTime())}function B(t,e){var n=G(t);return Math.ceil(function(t,e){var n=Vt*Gt;return(I(e)-I(t))/n}(n,e)/qt)}function Y(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function U(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Jt[t];return e?n.slice(0,3):n}function q(t,e){return new Date(e,t+1,0)}function G(t){var e=W(t),n=e.getDay();return 0!==n&&V(e,-1*n),e}function V(t,e){t.setDate(t.getDate()+e)}function J(t,e,n){var i=Object.keys(te).filter((function(e){return t.includes(e)})),r=te[i[0]];return Object.assign(r,{constants:e,getData:n}),new Zt(r)}function X(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function K(t){if(0===t)return[0,0];if(isNaN(t))return{mantissa:-6755399441055744,exponent:972};var e=t>0?1:-1;if(!isFinite(t))return{mantissa:4503599627370496*e,exponent:972};t=Math.abs(t);var n=Math.floor(Math.log10(t));return[e*(t/Math.pow(10,n)),n]}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(t),i=Math.floor(e),r=n-i,o=r,a=1;r>5&&(r%2!=0&&(r=++n-i),o=r/2,a=2),r<=2&&(a=r/(o=4)),0===r&&(o=5,a=1);for(var s=[],l=0;l<=o;l++)s.push(i+a*l);return s}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=K(t),i=se(n,2),r=i[0],o=i[1],a=e?e/Math.pow(10,o):0,s=Q(r=r.toFixed(6),a);return s.map((function(t){return t*Math.pow(10,o)}))}function tt(t){function e(t,e){for(var n=Z(t),i=n[1]-n[0],r=0,o=1;r<e;o++)r+=i,n.unshift(-1*r);return n}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Math.max.apply(Math,X(t)),r=Math.min.apply(Math,X(t)),o=[];if(i>=0&&r>=0)K(i)[1],o=n?Z(i,r):Z(i);else if(i>0&&r<0){var a=Math.abs(r);i>=a?(K(i)[1],o=e(i,a)):(K(a)[1],o=e(a,i).reverse().map((function(t){return-1*t})))}else if(i<=0&&r<=0){var s=Math.abs(r),l=Math.abs(i);K(s)[1],o=(o=n?Z(s,l):Z(s)).reverse().map((function(t){return-1*t}))}return o}function et(t){var e=nt(t);return t.indexOf(0)>=0?t.indexOf(0):t[0]>0?-1*t[0]/e:-1*t[t.length-1]/e+(t.length-1)}function nt(t){return t[1]-t[0]}function it(t){return t[t.length-1]-t[0]}function rt(t,e){return c(e.zeroLine-t*e.scaleMultiplier)}function ot(t,e){return e.filter((function(e){return e<t})).length}function at(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function st(t,e){t.labels=t.labels||[];var n=t.labels.length,i=t.datasets,r=new Array(n).fill(0);return i||(i=[{values:r}]),i.map((function(t){if(t.values){var i=t.values;i=(i=i.map((function(t){return isNaN(t)?0:t}))).length>n?i.slice(0,n):h(i,n-i.length,0)}else t.values=r;t.chartType||(t.chartType=e)})),t.yRegions&&t.yRegions.map((function(t){if(t.end<t.start){var e=[t.end,t.start];t.start=e[0],t.end=e[1]}})),t}function lt(t){var e=t.labels.length,n=new Array(e).fill(0),i={labels:t.labels.slice(0,-1),datasets:t.datasets.map((function(t){return{name:"",values:n.slice(0,-1),chartType:t.chartType}}))};return t.yMarkers&&(i.yMarkers=[{value:0,label:""}]),t.yRegions&&(i.yRegions=[{start:0,end:0,label:""}]),i}function ut(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}');var ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.create=function(t,e){var i=document.createElement(t);for(var r in e){var o=e[r];if("inside"===r)n(o).appendChild(i);else if("around"===r){var a=n(o);a.parentNode.insertBefore(i,a),i.appendChild(a)}else"styles"===r?"object"===(void 0===o?"undefined":ct(o))&&Object.keys(o).map((function(t){i.style[t]=o[t]})):r in i?i[r]=o:i.setAttribute(r,o)}return i};var ht={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},dt=2,ft=10,pt=7,vt=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],gt={bar:vt,line:vt,pie:vt,percentage:vt,heatmap:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],donut:vt},mt=Math.PI/180,yt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),bt=function(){function t(e){var n=e.parent,i=void 0===n?null:n,r=e.colors,o=void 0===r?[]:r;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.parent=i,this.colors=o,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return yt(t,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var t=this;this.container=n.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:'<span class="title"></span>\n\t\t\t\t<ul class="data-point-list"></ul>\n\t\t\t\t<div class="svg-pointer"></div>'}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",(function(){t.hideTip()}))}},{key:"fill",value:function(){var t,e=this;this.index&&this.container.setAttribute("data-point-index",this.index),t=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=t,this.dataPointList.innerHTML="",this.listValues.map((function(t,i){var r=e.colors[i]||"black",o=0===t.formatted||t.formatted?t.formatted:t.value,a=n.create("li",{styles:{"border-top":"3px solid "+r},innerHTML:'<strong style="display: block;">'+(0===o||o?o:"")+"</strong>\n\t\t\t\t\t"+(t.title?t.title:"")});e.dataPointList.appendChild(a)}))}},{key:"calcPosition",value:function(){var t=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-5,this.left=this.x-t/2;var e=this.parent.offsetWidth-t,n=this.container.querySelector(".svg-pointer");if(this.left<0)n.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>e){var i="calc(50% + "+(this.left-e)+"px)";n.style.left=i,this.left=e}else n.style.left="50%"}},{key:"setValues",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=i,this.x=t,this.y=e,this.titleValueFirst=n.valueFirst||0,this.index=r,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),t}(),xt={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},wt=function(t){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(t)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(t).map((function(t,e){return 0!==e?Number(t).toString(16):"#"})).reduce((function(t,e){return""+t+e})):xt[t]||t},kt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At=6,Ct=4,Pt=15,Tt=10,_t="#dadada",St="#555b51",$t={bar:function(t){var e=void 0;"rect"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",e&&n.setAttribute("transform",e),n},dot:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute("r"),r=t.getAttribute("fill");return n.setAttribute("r",parseInt(i)+4),n.setAttribute("fill",r),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n},heat_square:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute("r"),r=t.getAttribute("fill");return n.setAttribute("r",parseInt(i)+4),n.setAttribute("fill",r),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n}},Lt={bar:function(t,e){var n=void 0;"rect"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["x","y","width","height"];Object.values(t.attributes).filter((function(t){return i.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)},dot:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["cx","cy"];Object.values(t.attributes).filter((function(t){return i.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)},heat_square:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["cx","cy"];Object.values(t.attributes).filter((function(t){return i.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)}},Mt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Dt=350,Nt=350,Et=Dt,jt=250,Ht="easein",zt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Rt={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},It=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",Ft=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Wt=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent="string"==typeof e?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:void 0!==n.animate?n.animate:1,truncateLegends:n.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(ht));var i=this.measures;this.setMeasures(n),this.title.length||(i.titleHeight=0),this.config.showLegend||(i.legendHeight=0),this.argHeight=n.height||i.baseHeight,this.state={},this.options={},this.initTimeout=700,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return Ft(t,[{key:"prepareData",value:function(t){return t}},{key:"prepareFirstData",value:function(t){return t}},{key:"validateColors",value:function(t,e){var n=[];return(t=(t||[]).concat(gt[e])).forEach((function(t){var e=wt(t);!function(t){return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(t)||/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i.test(t)}(e)?console.warn('"'+t+'" is not a valid color.'):n.push(e)})),n}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var t=this,e=this.argHeight;this.baseHeight=e,this.height=e-l(this.measures),this.boundDrawFn=function(){return t.draw(!0)},window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var t={inside:this.parent,className:"chart-container"};this.independentWidth&&(t.styles={width:this.independentWidth+"px"}),this.container=n.create("div",t)}},{key:"makeTooltip",value:function(){this.tip=new bt({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&r(this.parent)||(this.updateWidth(),this.calc(e),this.makeChartArea(),this.setupComponents(),this.components.forEach((function(e){return e.setup(t.drawArea)})),this.render(this.components,!1),n&&(this.data=this.realData,setTimeout((function(){t.update(t.data)}),this.initTimeout)),this.renderLegend(),this.setupNavigation(n))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return t.clientWidth-n}(this.parent),this.width=this.baseWidth-u(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var t=this.measures;this.svg=function(t,e,n,i){return O("svg",{className:e,inside:t,width:n,height:i})}(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=function(t){return O("defs",{inside:t})}(this.svg),this.title.length&&(this.titleEL=$("title",t.margins.left,t.margins.top,this.title,{fontSize:t.titleFontSize,fill:"#666666",dy:t.titleFontSize}));var e=a(t);this.drawArea=P(this.type+"-chart chart-draw-area","translate("+s(t)+", "+e+")"),this.config.showLegend&&(e+=this.height+t.paddings.bottom,this.legendArea=P("chart-legend","translate("+s(t)+", "+e+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(s(t),a(t))}},{key:"updateTipOffset",value:function(t,e){this.tip.offset={x:t,y:e}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.calc(),this.render(this.components,this.config.animate)}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map((function(t){return t.parentNode.removeChild(t)}));var i=[];e.forEach((function(t){i=i.concat(t.update(n))})),i.length>0?(R(this.container,this.svg,i),setTimeout((function(){e.forEach((function(t){return t.make()})),t.updateNav()}),400)):(e.forEach((function(t){return t.make()})),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&e&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",(function(e){o(t.container)&&(e=e||window.event,t.keyActions[e.keyCode]&&t.keyActions[e.keyCode]())})))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var t=function(t){var e=t.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var i=n.create("style",{innerHTML:It});e.insertBefore(i,e.firstChild);var r=n.create("div");return r.appendChild(e),r.innerHTML}(this.svg);!function(t,e){var n=document.createElement("a");n.style="display: none";var i=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),r=window.URL.createObjectURL(i);n.href=r,n.download=t,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(r)}),300)}(this.title||"Chart",[t])}}]),t}(),Bt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Yt=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},Ut=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Bt(e,[{key:"configure",value:function(t){Yt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.formatTooltipY=(t.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,e=this.state,n=this.config.maxSlices;e.sliceTotals=[];var i=this.data.labels.map((function(e,n){var i=0;return t.data.datasets.map((function(t){i+=t.values[n]})),[i,e]})).filter((function(t){return t[0]>=0})),r=i;if(i.length>n){i.sort((function(t,e){return e[0]-t[0]})),r=i.slice(0,n-1);var o=0;i.slice(n-1).map((function(t){o+=t[0]})),r.push([o,"Rest"]),this.colors[n-1]="grey"}e.labels=[],r.map((function(t){e.sliceTotals.push(function(t){return Number(Math.round(t+"e4")+"e-4")}(t[0])),e.labels.push(t[1])})),e.grandTotal=e.sliceTotals.reduce((function(t,e){return t+e}),0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,e=this.state;this.legendArea.textContent="",this.legendTotals=e.sliceTotals.slice(0,this.config.maxLegendPoints);var n=0,i=0;this.legendTotals.map((function(r,o){var a=150,s=Math.floor((t.width-u(t.measures))/a);t.legendTotals.length<s&&(a=t.width/t.legendTotals.length),n>s&&(n=0,i+=20);var l=a*n+5,c=t.config.truncateLegends?m(e.labels[o],a/10):e.labels[o],h=t.config.formatTooltipY?t.config.formatTooltipY(r):r,d=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments[4];r=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?m(r,Pt):r;var o={className:"legend-dot",cx:0,cy:0,r:n,fill:i},a=O("text",{className:"legend-dataset-text",x:0,y:0,dx:Tt+"px",dy:Tt/3+"px","font-size":1.2*Tt+"px","text-anchor":"start",fill:St,innerHTML:r}),s=O("g",{transform:"translate("+t+", "+e+")"});return s.appendChild(O("circle",o)),s.appendChild(a),s}(l,i,5,t.colors[o],c+": "+h,!1);t.legendArea.appendChild(d),n++}))}}]),e}(Wt),qt=7,Gt=1e3,Vt=86400,Jt=["January","February","March","April","May","June","July","August","September","October","November","December"],Xt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Kt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Qt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Zt=function(){function t(e){var n=e.layerClass,i=void 0===n?"":n,r=e.layerTransform,o=void 0===r?"":r,a=e.constants,s=e.getData,l=e.makeElements,u=e.animateElements;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.layerTransform=o,this.constants=a,this.makeElements=l,this.getData=s,this.animateElements=u,this.store=[],this.labels=[],this.layerClass=i,this.layerClass="function"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return Qt(t,[{key:"refresh",value:function(t){this.data=t||this.getData()}},{key:"setup",value:function(t){this.layer=P(this.layerClass,this.layerTransform,t)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(t){var e=this;this.store=this.makeElements(t),this.layer.textContent="",this.store.forEach((function(t){e.layer.appendChild(t)})),this.labels.forEach((function(t){e.layer.appendChild(t)}))}},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var e=[];return t&&(e=this.animateElements(this.data)||[]),e}}]),t}(),te={donutSlices:{layerClass:"donut-slices",makeElements:function(t){return t.sliceStrings.map((function(e,n){var i=T(e,"donut-path",t.colors[n],"none",t.strokeWidth);return i.style.transition="transform .3s;",i}))},animateElements:function(t){return this.store.map((function(e,n){return E(e,t.sliceStrings[n])}))}},pieSlices:{layerClass:"pie-slices",makeElements:function(t){return t.sliceStrings.map((function(e,n){var i=T(e,"pie-path","none",t.colors[n]);return i.style.transition="transform .3s;",i}))},animateElements:function(t){return this.store.map((function(e,n){return E(e,t.sliceStrings[n])}))}},percentageBars:{layerClass:"percentage-bars",makeElements:function(t){var e=this;return t.xPositions.map((function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dt,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";return O("rect",{className:"percentage-bar",x:t,y:e,width:n,height:i,fill:o,styles:{stroke:w(o,-25),"stroke-dasharray":"0, "+(i+n)+", "+n+", "+i,"stroke-width":r}})}(n,0,t.widths[i],e.constants.barHeight,e.constants.barDepth,t.colors[i])}))},animateElements:function(t){if(t)return[]}},yAxis:{layerClass:"y axis",makeElements:function(t){var e=this;return t.positions.map((function(n,i){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};p(t)||(t=0),i.pos||(i.pos="left"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=_t),i.className||(i.className="");var r=-1*At,o="span"===i.mode?n+At:0;return"tick"===i.mode&&"right"===i.pos&&(r=n+At,o=n),M(t,e,r+=i.offset,o+=i.offset,{stroke:i.stroke,className:i.className,lineType:i.lineType,shortenNumbers:i.shortenNumbers})}(n,t.labels[i],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})}))},animateElements:function(t){var e=t.positions,n=t.labels,i=this.oldData.positions,r=this.oldData.labels,o=g(i,e),a=Kt(o,2);i=a[0],e=a[1];var s=g(r,n),l=Kt(s,2);return r=l[0],n=l[1],this.render({positions:i,labels:n}),this.store.map((function(t,n){return N(t,e[n],i[n])}))}},xAxis:{layerClass:"x axis",makeElements:function(t){var e=this;return t.positions.map((function(n,i){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};p(t)||(t=0),i.pos||(i.pos="bottom"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=_t),i.className||(i.className="");var r=n+At,o="span"===i.mode?-1*At:n;return"tick"===i.mode&&"top"===i.pos&&(r=-1*At,o=0),L(t,e,r,o,{stroke:i.stroke,className:i.className,lineType:i.lineType})}(n,t.calcLabels[i],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})}))},animateElements:function(t){var e=t.positions,n=t.calcLabels,i=this.oldData.positions,r=this.oldData.calcLabels,o=g(i,e),a=Kt(o,2);i=a[0],e=a[1];var s=g(r,n),l=Kt(s,2);return r=l[0],n=l[1],this.render({positions:i,calcLabels:n}),this.store.map((function(t,n){return function(t,e,n){return D(t,[n,0],[e,0],Et)}(t,e[n],i[n])}))}},yMarkers:{layerClass:"y-markers",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.labelPos||(i.labelPos="right");var r=O("text",{className:"chart-label",x:"left"===i.labelPos?Ct:n-d(e,5)-Ct,y:0,dy:Tt/-2+"px","font-size":Tt+"px","text-anchor":"start",innerHTML:e+""}),o=M(t,"",0,n,{stroke:i.stroke||_t,className:i.className||"",lineType:i.lineType});return o.appendChild(r),o}(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})}))},animateElements:function(t){var e=g(this.oldData,t),n=Kt(e,2);this.oldData=n[0];var i=(t=n[1]).map((function(t){return t.position})),r=t.map((function(t){return t.label})),o=t.map((function(t){return t.options})),a=this.oldData.map((function(t){return t.position}));return this.render(a.map((function(t,e){return{position:a[e],label:r[e],options:o[e]}}))),this.store.map((function(t,e){return N(t,i[e],a[e])}))}},yRegions:{layerClass:"y-regions",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t-e,a=O("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:_t,"stroke-dasharray":n+", "+o},x:0,y:0,width:n,height:o});r.labelPos||(r.labelPos="right");var s=O("text",{className:"chart-label",x:"left"===r.labelPos?Ct:n-d(i+"",4.5)-Ct,y:0,dy:Tt/-2+"px","font-size":Tt+"px","text-anchor":"start",innerHTML:i+""}),l=O("g",{transform:"translate(0, "+e+")"});return l.appendChild(a),l.appendChild(s),l}(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})}))},animateElements:function(t){var e=g(this.oldData,t),n=Kt(e,2);this.oldData=n[0];var i=(t=n[1]).map((function(t){return t.endPos})),r=t.map((function(t){return t.label})),o=t.map((function(t){return t.startPos})),a=t.map((function(t){return t.options})),s=this.oldData.map((function(t){return t.endPos})),l=this.oldData.map((function(t){return t.startPos}));this.render(s.map((function(t,e){return{startPos:l[e],endPos:s[e],label:r[e],options:a[e]}})));var u=[];return this.store.map((function(t,e){u=u.concat(function(t,e,n,i){var r=e-n,o=t.childNodes[0];return[[o,{height:r,"stroke-dasharray":o.getAttribute("width")+", "+r},Et,Ht],D(t,[0,i],[0,n],Et)]}(t,o[e],i[e],s[e]))})),u}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(t){var e=this,n=this.constants,i=n.index,r=n.colWidth,o=n.rowHeight,a=n.squareSize,s=n.radius,l=n.xTranslate,u=0;return this.serializedSubDomains=[],t.cols.map((function(t,n){1===n&&e.labels.push($("domain-name",l,-12,U(i,!0).toUpperCase(),{fontSize:9})),t.map((function(t,n){if(t.fill){var i={"data-date":t.yyyyMmDd,"data-value":t.dataValue,"data-day":n},r=S("day",l,u,a,s,t.fill,i);e.serializedSubDomains.push(r)}u+=o})),u=0,l+=r})),this.serializedSubDomains},animateElements:function(t){if(t)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="bar",this.units=t.yPositions.map((function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=v(e,s.zeroLine),u=kt(l,2),c=u[0],h=u[1];h-=a,0===c&&(c=s.minHeight,h-=s.minHeight),p(t)||(t=0),p(h)||(h=0),p(c,!0)||(c=0),p(n,!0)||(n=0);var d=O("rect",{className:"bar mini",style:"fill: "+i,"data-point-index":o,x:t,y:h,width:n,height:c});if((r+="")||r.length){d.setAttribute("y",0),d.setAttribute("x",0);var f=O("text",{className:"data-point-value",x:n/2,y:0,dy:Tt/2*-1+"px","font-size":Tt+"px","text-anchor":"middle",innerHTML:r}),g=O("g",{"data-point-index":o,transform:"translate("+t+", "+h+")"});return g.appendChild(d),g.appendChild(f),g}return d}(t.xPositions[i],n,t.barWidth,e.color,t.labels[i],i,t.offsets[i],{zeroLine:t.zeroLine,barsWidth:t.barsWidth,minHeight:e.minHeight})})),this.units},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.offsets,r=t.labels,o=this.oldData.xPositions,a=this.oldData.yPositions,s=this.oldData.offsets,l=this.oldData.labels,u=g(o,e),c=Kt(u,2);o=c[0],e=c[1];var h=g(a,n),d=Kt(h,2);a=d[0],n=d[1];var f=g(s,i),p=Kt(f,2);s=p[0],i=p[1];var m=g(l,r),y=Kt(m,2);l=y[0],r=y[1],this.render({xPositions:o,yPositions:a,offsets:s,labels:r,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var b=[];return this.store.map((function(r,o){b=b.concat(function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=v(n,(arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}).zeroLine),a=Mt(o,2),s=a[0],l=a[1];return l-=r,"rect"!==t.nodeName?[[t.childNodes[0],{width:i,height:s},Dt,Ht],D(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,l],Et)]:[[t,{width:i,height:s,x:e,y:l},Dt,Ht]]}(r,e[o],n[o],t.barWidth,i[o],{zeroLine:t.zeroLine}))})),b}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.map((function(e,n){return t[n]+","+e})).join("L");i.spline&&(o=b(t,e));var a=T("M"+o,"line-graph-path",n);if(i.heatline){var s=_(r.svgDefs,n);a.style.stroke="url(#"+s+")"}var l={path:a};if(i.regionFill){var u=_(r.svgDefs,n,!0),c="M"+t[0]+","+r.zeroLine+"L"+o+"L"+t.slice(-1)[0]+","+r.zeroLine;l.region=T(c,"region-fill","none","url(#"+u+")")}return l}(t.xPositions,t.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:t.zeroLine})),this.units=[],e.hideDots||(this.units=t.yPositions.map((function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=O("circle",{style:"fill: "+i,"data-point-index":o,cx:t,cy:e,r:n});if((r+="")||r.length){a.setAttribute("cy",0),a.setAttribute("cx",0);var s=O("text",{className:"data-point-value",x:0,y:0,dy:Tt/2*-1-n+"px","font-size":Tt+"px","text-anchor":"middle",innerHTML:r}),l=O("g",{"data-point-index":o,transform:"translate("+t+", "+e+")"});return l.appendChild(a),l.appendChild(s),l}return a}(t.xPositions[i],n,t.radius,e.color,e.valuesOverPoints?t.values[i]:"",i)}))),Object.values(this.paths).concat(this.units)},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.values,r=this.oldData.xPositions,o=this.oldData.yPositions,a=this.oldData.values,s=g(r,e),l=Kt(s,2);r=l[0],e=l[1];var u=g(o,n),c=Kt(u,2);o=c[0],n=c[1];var h=g(a,i),d=Kt(h,2);a=d[0],i=d[1],this.render({xPositions:r,yPositions:o,values:i,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var f=[];return Object.keys(this.paths).length&&(f=f.concat(function(t,e,n,i,r){var o=[],a=n.map((function(t,n){return e[n]+","+t})).join("L");r&&(a=b(e,n));var s=[t.path,{d:"M"+a},Nt,Ht];if(o.push(s),t.region){var l=e[0]+","+i+"L",u="L"+e.slice(-1)[0]+", "+i,c=[t.region,{d:"M"+l+a+u},Nt,Ht];o.push(c)}return o}(this.paths,e,n,t.zeroLine,this.constants.spline))),this.units.length&&this.units.map((function(t,i){f=f.concat(function(t,e,n){return"circle"!==t.nodeName?[D(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,n],Et)]:[[t,{cx:e,cy:n},Dt,Ht]]}(t,e[i],n[i]))})),f}}},ee=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ne=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},ie=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type="percentage",i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),ee(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.barOptions=t.barOptions||{};var n=this.barOptions;n.height=n.height||20,n.depth=n.depth||dt,e.paddings.right=30,e.legendHeight=60,e.baseHeight=8*(n.height+.5*n.depth)}},{key:"setupComponents",value:function(){var t=this.state,e=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=J.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]})))}},{key:"calc",value:function(){var t=this;ne(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;n.xPositions=[],n.widths=[];var i=0;n.sliceTotals.map((function(e){var r=t.width*e/n.grandTotal;n.widths.push(r),n.xPositions.push(i),i+=r}))}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,e=this.state;this.container.addEventListener("mousemove",(function(n){var r=t.components.get("percentageBars").store,o=n.target;if(r.includes(o)){var a=r.indexOf(o),s=i(t.container),l=i(o),u=l.left-s.left+parseInt(o.getAttribute("width"))/2,c=l.top-s.top,h=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[a]:t.state.labels[a])+": ",d=e.sliceTotals[a]/e.grandTotal;t.tip.setValues(u,c,{name:h,value:(100*d).toFixed(1)+"%"}),t.tip.showTip()}}))}}]),e}(Ut),re=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),oe=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},ae=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type="pie",i.initTimeout=0,i.init=1,i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),re(e,[{key:"configure",value:function(t){oe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;oe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var i=this.radius,r=this.clockWise,o=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var a=180-this.config.startAngle;n.sliceTotals.map((function(e,s){var l=a,u=e/n.grandTotal*360,c=u>180?1:0,h=r?-u:u,d=a+=h,p=f(l,i),v=f(d,i),g=t.init&&o[s],m=void 0,y=void 0;t.init?(m=g?g.startPosition:p,y=g?g.endPosition:p):(m=p,y=v);var b=360===u?function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,l=n.x+e.x,u=2*n.y,c=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+a+" "+s+"\n\t\tA "+i+" "+i+" 0 "+o+" "+(r?1:0)+"\n\t\t"+l+" "+u+" z\n\t\tL"+a+" "+u+"\n\t\tA "+i+" "+i+" 0 "+o+" "+(r?1:0)+"\n\t\t"+l+" "+c+" z"}(m,y,t.center,t.radius,r,c):function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,l=n.x+e.x,u=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+a+" "+s+"\n\t\tA "+i+" "+i+" 0 "+o+" "+(r?1:0)+"\n\t\t"+l+" "+u+" z"}(m,y,t.center,t.radius,r,c);n.sliceStrings.push(b),n.slicesProperties.push({startPosition:p,endPosition:v,value:e,total:n.grandTotal,startAngle:l,endAngle:d,angle:h})})),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["pieSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=J.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]})))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,i=f(t.startAngle+t.angle/2,e);return"translate3d("+i.x*n+"px,"+i.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,e,n,r){if(t){var o=this.colors[e];if(n){H(t,this.calTranslateByAngle(this.state.slicesProperties[e])),t.style.fill=w(o,50);var a=i(this.svg),s=r.pageX-a.left+10,l=r.pageY-a.top-10,u=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[e]:this.state.labels[e])+": ",c=(100*this.state.sliceTotals[e]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,l,{name:u,value:c+"%"}),this.tip.showTip()}else H(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=o}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("pieSlices").store,i=this.curActiveSliceIndex,r=this.curActiveSlice;if(n.includes(e)){var o=n.indexOf(e);this.hoverSlice(r,i,!1),this.curActiveSlice=e,this.curActiveSliceIndex=o,this.hoverSlice(e,o,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Ut),se=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},le=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ue=12,ce=ue,he=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.type="heatmap",i.countLabel=n.countLabel||"";var r=["Sunday","Monday"],o=r.includes(n.startSubDomain)?n.startSubDomain:"Sunday";return i.startSubDomainIndex=r.indexOf(o),i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),le(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.discreteDomains=0===t.discreteDomains?0:1,e.paddings.top=36,e.paddings.bottom=0,e.legendHeight=24,e.baseHeight=ce*qt+l(e);var n=this.data,i=this.discreteDomains?12:0;this.independentWidth=(B(n.start,n.end)+i)*ue+u(e)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?12:0,e=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(e+t)*ue+u(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var e={};Object.keys(t.dataPoints).forEach((function(n){var i=new Date(n*Gt);e[F(i)]=t.dataPoints[n]})),t.dataPoints=e}return t}},{key:"calc",value:function(){var t=this.state;t.start=W(this.data.start),t.end=W(this.data.end),t.firstWeekStart=W(t.start),t.noOfWeeks=B(t.start,t.end),t.distribution=function(t,e){for(var n=Math.max.apply(Math,X(t)),i=1/(e-1),r=[],o=0;o<e;o++){var a=n*(i*o);r.push(a)}return r}(Object.values(this.data.dataPoints),5),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,e=this.state,n=this.discreteDomains?0:1,i=e.domainConfigs.map((function(i,r){return["heatDomain",{index:i.index,colWidth:ue,rowHeight:ce,squareSize:ft,radius:t.rawChartArgs.radius||0,xTranslate:e.domainConfigs.filter((function(t,e){return e<r})).map((function(t){return t.cols.length-n})).reduce((function(t,e){return t+e}),0)*ue},function(){return e.domainConfigs[r]}.bind(t)]}));this.components=new Map(i.map((function(t,e){var n=J.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0]+"-"+e,n]})));var r=0;Xt.forEach((function(e,n){if([1,3,5].includes(n)){var i=$("subdomain-name",-6,r,e,{fontSize:ft,dy:8,textAnchor:"end"});t.drawArea.appendChild(i)}r+=ce}))}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",(function(e){t.components.forEach((function(n){var i=n.store,r=e.target;if(i.includes(r)){var o=r.getAttribute("data-value"),a=r.getAttribute("data-date").split("-"),s=U(parseInt(a[1])-1,!0),l=t.container.getBoundingClientRect(),u=r.getBoundingClientRect(),c=parseInt(e.target.getAttribute("width")),h=u.left-l.left+c/2,d=u.top-l.top,f=o+" "+t.countLabel,p=" on "+s+" "+a[0]+", "+a[2];t.tip.setValues(h,d,{name:p,value:f,valueFirst:1},[]),t.tip.showTip()}}))}))}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var e=0,n=this.rawChartArgs.radius||0,i=$("subdomain-name",e,12,"Less",{fontSize:11,dy:9});e=30,this.legendArea.appendChild(i),this.colors.slice(0,5).map((function(i,r){var o=S("heatmap-legend-unit",e+15*r,12,ft,n,i);t.legendArea.appendChild(o)}));var r=$("subdomain-name",e+75+3,12,"More",{fontSize:11,dy:9});this.legendArea.appendChild(r)}},{key:"getDomains",value:function(){for(var t=this.state,e=[t.start.getMonth(),t.start.getFullYear()],n=e[0],i=e[1],r=[t.end.getMonth(),t.end.getFullYear()],o=r[0]-n+1+12*(r[1]-i),a=[],s=W(t.start),l=0;l<o;l++){var u=t.end;if(!Y(s,t.end)){var c=[s.getMonth(),s.getFullYear()];u=q(c[0],c[1])}a.push(this.getDomainConfig(s,u)),V(u,1),s=u}return a}},{key:"getDomainConfig",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[t.getMonth(),t.getFullYear()],i=n[0],r=n[1],o=G(t),a={index:i,cols:[]};V(e=W(e)||q(i,r),1);for(var s=B(o,e),l=[],u=void 0,c=0;c<s;c++)u=this.getCol(o,i),l.push(u),V(o=new Date(u[qt-1].yyyyMmDd),1);return void 0!==u[qt-1].dataValue&&(V(o,1),l.push(this.getCol(o,i,!0))),a.cols=l,a}},{key:"getCol",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.state,r=W(t),o=[],a=0;a<qt;a++,V(r,1)){var s={},l=r>=i.start&&r<=i.end;n||r.getMonth()!==e||!l?s.yyyyMmDd=F(r):s=this.getSubDomainConfig(r),o.push(s)}return o}},{key:"getSubDomainConfig",value:function(t){var e=F(t),n=this.data.dataPoints[e];return{yyyyMmDd:e,dataValue:n||0,fill:this.colors[ot(n,this.state.distribution)]}}}]),e}(Wt),de=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),fe=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},pe=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.barOptions=n.barOptions||{},i.lineOptions=n.lineOptions||{},i.type=n.type||"line",i.init=1,i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),de(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){fe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return lt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data)}},{key:"calc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),"line"===this.type),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,e=this.data.labels;t.datasetLength=e.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:e,positions:e.map((function(e,n){return c(t.xOffset+n*t.unitWidth)}))}}},{key:"calcYAxisParameters",value:function(t){var e=tt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"),n=this.height/it(e),i=nt(e)*n,r=this.height-et(e)*i;this.state.yAxis={labels:e,positions:e.map((function(t){return r-t*n})),scaleMultiplier:n,zeroLine:r},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,e=function(e){return e.map((function(e){return rt(e,t.yAxis)}))};t.datasets=this.data.datasets.map((function(t,n){var i=t.values,r=t.cumulativeYs||[];return{name:t.name,index:n,chartType:t.chartType,values:i,yPositions:e(i),cumulativeYs:r,cumulativeYPos:e(r)}}))}},{key:"calcYExtremes",value:function(){var t=this.state;this.barOptions.stacked?t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos:(t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map((function(e){e.yPositions.map((function(e,n){e<t.yExtremes[n]&&(t.yExtremes[n]=e)}))})))}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map((function(e){return e.position=rt(e.value,t.yAxis),e.options||(e.options={}),e}))),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map((function(e){return e.startPos=rt(e.start,t.yAxis),e.endPos=rt(e.end,t.yAxis),e.options||(e.options={}),e})))}},{key:"getAllYValues",value:function(){var t,e=this,n="values";if(this.barOptions.stacked){n="cumulativeYs";var i=new Array(this.state.datasetLength).fill(0);this.data.datasets.map((function(t,r){var o=e.data.datasets[r].values;t[n]=i=i.map((function(t,e){return t+o[e]}))}))}var r=this.data.datasets.map((function(t){return t[n]}));return this.data.yMarkers&&r.push(this.data.yMarkers.map((function(t){return t.value}))),this.data.yRegions&&this.data.yRegions.map((function(t){r.push([t.end,t.start])})),(t=[]).concat.apply(t,ut(r))}},{key:"setupComponents",value:function(){var t=this,e=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var t=this.state;return t.xAxis.calcLabels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t/e.length;i<=0&&(i=1);var r=i/pt,o=void 0;if(n){var a=Math.max.apply(Math,at(e.map((function(t){return t.length}))));o=Math.ceil(a/r)}return e.map((function(t,e){return(t+="").length>r&&(n?e%o!=0&&(t=""):t=r-3>0?t.slice(0,r-3)+" ...":t.slice(0,r)+".."),t}))}(this.width,t.xAxis.labels,this.config.xIsSeries),t.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter((function(t){return"bar"===t.chartType})),i=this.state.datasets.filter((function(t){return"line"===t.chartType})),r=n.map((function(e){var i=e.index;return["barGraph-"+e.index,{index:i,color:t.colors[i],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:0*t.height},function(){var t=this.state,e=t.datasets[i],r=this.barOptions.stacked,o=this.barOptions.spaceRatio||.5,a=t.unitWidth*(1-o),s=a/(r?1:n.length),l=t.xAxis.positions.map((function(t){return t-a/2}));r||(l=l.map((function(t){return t+s*i})));var u=new Array(t.datasetLength).fill("");this.config.valuesOverPoints&&(u=r&&e.index===t.datasets.length-1?e.cumulativeYs:e.values);var c=new Array(t.datasetLength).fill(0);return r&&(c=e.yPositions.map((function(t,n){return t-e.cumulativeYPos[n]}))),{xPositions:l,yPositions:e.yPositions,offsets:c,labels:u,zeroLine:t.yAxis.zeroLine,barsWidth:a,barWidth:s}}.bind(t)]})),o=i.map((function(e){var n=e.index;return["lineGraph-"+e.index,{index:n,color:t.colors[n],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var t=this.state,e=t.datasets[n],i=t.yAxis.positions[0]<t.yAxis.zeroLine?t.yAxis.positions[0]:t.yAxis.zeroLine;return{xPositions:t.xAxis.positions,yPositions:e.yPositions,values:e.values,zeroLine:i,radius:this.lineOptions.dotSize||4}}.bind(t)]})),a=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];e=e.concat(r,o,a);var s=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(e.filter((function(e){return!s.includes(e[0])||t.state[e[0]]})).map((function(e){var n=J.apply(void 0,ut(e));return(e[0].includes("lineGraph")||e[0].includes("barGraph"))&&t.dataUnitComponents.push(n),[e[0],n]})))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var e=this.state,n=this.config.formatTooltipX,i=this.config.formatTooltipY;e.xAxis.labels.map((function(r,o){var a=t.state.datasets.map((function(e,n){var r=e.values[o];return{title:e.name,value:r,yPos:e.yPositions[o],color:t.colors[n],formatted:i?i(r):r}}));t.dataByIndex[o]={label:r,formattedLabel:n?n(r):r,xPos:e.xAxis.positions[o],values:a,yExtreme:e.yExtremes[o]}}))}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",(function(e){var n=t.measures,r=i(t.container),o=e.pageX-r.left-s(n),l=e.pageY-r.top;l<t.height+a(n)&&l>a(n)?t.mapTooltipXPosition(o):t.tip.hideTip()}))}},{key:"mapTooltipXPosition",value:function(t){var e=this.state;if(e.yExtremes){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),[]);return n?e.indexOf(i):i}(t,e.xAxis.positions,!0);if(n>=0){var i=this.dataByIndex[n];this.tip.setValues(i.xPos+this.tip.offset.x,i.yExtreme+this.tip.offset.y,{name:i.formattedLabel,value:""},i.values,n),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var t=this,e=this.data;e.datasets.length>1&&(this.legendArea.textContent="",e.datasets.map((function(e,n){var i=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments[4];r=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?m(r,Pt):r;var o={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:i},a=O("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Tt+"px","font-size":1.2*Tt+"px","text-anchor":"start",fill:St,innerHTML:r}),s=O("g",{transform:"translate("+t+", "+e+")"});return s.appendChild(O("rect",o)),s.appendChild(a),s}(100*n,"0",100,t.colors[n],e.name,t.config.truncateLegends);t.legendArea.appendChild(i)})))}},{key:"makeOverlay",value:function(){var t=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)})),this.overlayGuides=this.dataUnitComponents.map((function(t){return{type:t.unitType,overlay:void 0,units:t.units}})),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];e.overlay=$t[e.type](n),t.drawArea.appendChild(e.overlay)})))}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)}))}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",(function(){t.updateOverlay()}))}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map((function(e){e.units.map((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-point-index");t.setCurrentDataPoint(n)}))}))})),this.tip.container.addEventListener("click",(function(){var e=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(e)}))}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];Lt[e.type](n,e.overlay)}))}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,e=this.state;return{index:t,label:e.xAxis.labels[t],values:e.datasets.map((function(e){return e.values[t]}))}}},{key:"setCurrentDataPoint",value:function(t){var e=this.state;(t=parseInt(t))<0&&(t=0),t>=e.xAxis.labels.length&&(t=e.xAxis.labels.length-1),t!==e.currentIndex&&(e.currentIndex=t,function(t,e,n){var i=document.createEvent("HTMLEvents");for(var r in i.initEvent(e,!0,!0),n)i[r]=n[r];t.dispatchEvent(i)}(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;fe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,t,n,i),this.data.labels.splice(i,0,t),this.data.datasets.map((function(t,e){t.values.splice(i,0,n[e])})),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(fe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map((function(e){e.values.splice(t,1)})),this.update(this.data))}},{key:"updateDataset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[e].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map((function(e,n){t[n]&&(e.values=t[n])})),this.update(this.data)}}]),e}(Wt),ve=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ge=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},me=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type="donut",i.initTimeout=0,i.init=1,i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),ve(e,[{key:"configure",value:function(t){ge(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1,this.strokeWidth=t.strokeWidth||30}},{key:"calc",value:function(){var t=this;ge(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var i=this.radius,r=this.clockWise,o=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var a=180-this.config.startAngle;n.sliceTotals.map((function(e,s){var l=a,u=e/n.grandTotal*360,c=u>180?1:0,h=r?-u:u,d=a+=h,p=f(l,i),v=f(d,i),g=t.init&&o[s],m=void 0,y=void 0;t.init?(m=g?g.startPosition:p,y=g?g.endPosition:p):(m=p,y=v);var b=360===u?function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,l=n.x+e.x,u=2*i+s,c=n.y+t.y;return"M"+a+" "+s+"\n\t\tA "+i+" "+i+" 0 "+o+" "+(r?1:0)+"\n\t\t"+l+" "+u+"\n\t\tM"+a+" "+u+"\n\t\tA "+i+" "+i+" 0 "+o+" "+(r?1:0)+"\n\t\t"+l+" "+c}(m,y,t.center,t.radius,t.clockWise,c):function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,l=n.x+e.x,u=n.y+e.y;return"M"+a+" "+s+"\n\t\tA "+i+" "+i+" 0 "+o+" "+(r?1:0)+"\n\t\t"+l+" "+u}(m,y,t.center,t.radius,t.clockWise,c);n.sliceStrings.push(b),n.slicesProperties.push({startPosition:p,endPosition:v,value:e,total:n.grandTotal,startAngle:l,endAngle:d,angle:h})})),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["donutSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(e.map((function(t){var e=J.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]})))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,i=f(t.startAngle+t.angle/2,e);return"translate3d("+i.x*n+"px,"+i.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,e,n,r){if(t){var o=this.colors[e];if(n){H(t,this.calTranslateByAngle(this.state.slicesProperties[e])),t.style.stroke=w(o,50);var a=i(this.svg),s=r.pageX-a.left+10,l=r.pageY-a.top-10,u=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[e]:this.state.labels[e])+": ",c=(100*this.state.sliceTotals[e]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,l,{name:u,value:c+"%"}),this.tip.showTip()}else H(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.stroke=o}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("donutSlices").store,i=this.curActiveSliceIndex,r=this.curActiveSlice;if(n.includes(e)){var o=n.indexOf(e);this.hoverSlice(r,i,!1),this.curActiveSlice=e,this.curActiveSliceIndex=o,this.hoverSlice(e,o,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Ut),ye={bar:pe,line:pe,percentage:ie,heatmap:he,pie:ae,donut:me};e.Chart=function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line",e=arguments[1],n=arguments[2];return"axis-mixed"===t?(n.type="line",new pe(e,n)):ye[t]?new ye[t](e,n):void console.error("Undefined chart type: "+t)}(n.type,e,n)},e.PercentageChart=ie,e.PieChart=ae,e.Heatmap=he,e.AxisChart=pe}(Mt={path:Lt,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&Mt.path)}},Mt.exports),Mt.exports);function Nt(e){let n;return{c(){n=m("div")},m(t,i){p(t,n,i),e[15](n)},p:t,i:t,o:t,d(t){t&&v(n),e[15](null)}}}function Et(t,e,n){let i,{data:r={labels:[],datasets:[{values:[]}],yMarkers:{},yRegions:[]}}=e,{type:o="line"}=e,{height:a=300}=e,{axisOptions:s={}}=e,{barOptions:l={}}=e,{lineOptions:u={}}=e,{tooltipOptions:c={}}=e,{colors:h=[]}=e,{valuesOverPoints:d=0}=e,{isNavigable:f=!1}=e,{maxSlices:p=3}=e,v=null;function g(t){return function(...e){if(v)return t(...e)}}const m=g((t,e,n)=>v.addDataPoint(t,e,n)),y=g(t=>v.removeDataPoint(t)),b=g(()=>v.export());return L(()=>{v=new Dt.Chart(i,{data:r,type:o,height:a,colors:h,axisOptions:s,barOptions:l,lineOptions:u,tooltipOptions:c,valuesOverPoints:d,isNavigable:f,maxSlices:p})}),function(t){$().$$.after_update.push(t)}(()=>v.update(r)),M(()=>{v=null}),t.$$set=t=>{"data"in t&&n(1,r=t.data),"type"in t&&n(2,o=t.type),"height"in t&&n(3,a=t.height),"axisOptions"in t&&n(4,s=t.axisOptions),"barOptions"in t&&n(5,l=t.barOptions),"lineOptions"in t&&n(6,u=t.lineOptions),"tooltipOptions"in t&&n(7,c=t.tooltipOptions),"colors"in t&&n(8,h=t.colors),"valuesOverPoints"in t&&n(9,d=t.valuesOverPoints),"isNavigable"in t&&n(10,f=t.isNavigable),"maxSlices"in t&&n(11,p=t.maxSlices)},[i,r,o,a,s,l,u,c,h,d,f,p,m,y,b,function(t){j[t?"unshift":"push"](()=>{i=t,n(0,i)})}]}class jt extends ot{constructor(t){super(),rt(this,t,Et,Nt,a,{data:1,type:2,height:3,axisOptions:4,barOptions:5,lineOptions:6,tooltipOptions:7,colors:8,valuesOverPoints:9,isNavigable:10,maxSlices:11,addDataPoint:12,removeDataPoint:13,exportChart:14})}get addDataPoint(){return this.$$.ctx[12]}get removeDataPoint(){return this.$$.ctx[13]}get exportChart(){return this.$$.ctx[14]}}function Ht(t,e,n){const i=t.slice();return i[64]=e[n],i}function zt(t,e,n){const i=t.slice();return i[24]=e[n],i[67]=e,i[68]=n,i}function Rt(t,e,n){const i=t.slice();return i[70]=e[n],i[72]=n,i}function It(t,e,n){const i=t.slice();return i[61]=e[n],i[62]=e,i[63]=n,i}function Ft(t,e,n){const i=t.slice();return i[76]=e[n],i[78]=n,i}function Wt(t,e,n){const i=t.slice();return i[73]=e[n],i}function Bt(t){let e,n,i,o,a,s,l,u,c,h,d,g,x,k,A,P,T,_,S,$,L,M,D,N,E,j,H,z,R,I,F,W,B,Y,U,q,G=t[3].name.toUpperCase()+"",Q=t[13]&&qt(t),Z=t[14]&&Gt(t),tt=t[15]&&Qt(t);return{c(){e=m("mainBody"),n=m("div"),i=m("center"),o=m("header"),a=m("h1"),s=m("center"),l=m("img"),c=b(),h=y(G),d=y("'s Profile"),g=b(),x=m("center"),k=m("menu"),A=m("ul"),P=y("||\n          "),T=m("li"),_=m("menuButton"),_.textContent="Settings",S=b(),$=y("||\n          "),L=m("li"),M=m("menuButton"),M.textContent="Instruments",D=b(),N=y("||\n          "),E=m("li"),j=m("menuButton"),j.textContent="Collections",H=b(),z=y("||"),R=b(),Q&&Q.c(),I=b(),Z&&Z.c(),F=b(),tt&&tt.c(),W=b(),B=m("section"),B.innerHTML="<br/>  <br/>",l.src!==(u=ce(t[3].email,200))&&O(l,"src",u),O(a,"id","tiptop"),O(a,"class","svelte-160fwfv"),O(o,"class","header"),O(n,"class","container"),O(_,"class","svelte-160fwfv"),O(T,"class","svelte-160fwfv"),O(M,"class","svelte-160fwfv"),O(L,"class","svelte-160fwfv"),O(j,"class","svelte-160fwfv"),O(E,"class","svelte-160fwfv"),O(k,"class","svelte-160fwfv"),O(B,"class","svelte-160fwfv"),O(e,"class","svelte-160fwfv")},m(r,u){p(r,e,u),f(e,n),f(n,i),f(i,o),f(o,a),f(a,s),f(s,l),f(a,c),f(a,h),f(a,d),f(e,g),f(e,x),f(x,k),f(k,A),f(A,P),f(A,T),f(T,_),f(T,S),f(A,$),f(A,L),f(L,M),f(L,D),f(A,N),f(A,E),f(E,j),f(E,H),f(A,z),f(e,R),Q&&Q.m(e,null),f(e,I),Z&&Z.m(e,null),f(e,F),tt&&tt.m(e,null),f(e,W),f(e,B),Y=!0,U||(q=[w(_,"click",t[34]),w(M,"click",t[35]),w(j,"click",t[36])],U=!0)},p(t,n){(!Y||8&n[0]&&l.src!==(u=ce(t[3].email,200)))&&O(l,"src",u),(!Y||8&n[0])&&G!==(G=t[3].name.toUpperCase()+"")&&C(h,G),t[13]?Q?Q.p(t,n):(Q=qt(t),Q.c(),Q.m(e,I)):Q&&(Q.d(1),Q=null),t[14]?Z?(Z.p(t,n),16384&n[0]&&X(Z,1)):(Z=Gt(t),Z.c(),X(Z,1),Z.m(e,F)):Z&&(V(),K(Z,1,1,()=>{Z=null}),J()),t[15]?tt?tt.p(t,n):(tt=Qt(t),tt.c(),tt.m(e,W)):tt&&(tt.d(1),tt=null)},i(t){Y||(X(Z),Y=!0)},o(t){K(Z),Y=!1},d(t){t&&v(e),Q&&Q.d(),Z&&Z.d(),tt&&tt.d(),U=!1,r(q)}}}function Yt(e){let n,i,a,s,l,u,c,h,d,g,x,A,C,T,_,S,$,L,M,D,N,E,j,H,z,R,I,F,W,B,Y,U,q;return{c(){n=m("section"),i=m("main"),a=m("h1"),a.innerHTML='<img src="/img/MyOPC_200x200.png" alt="MyOPC"/>',s=b(),l=m("form"),u=m("label"),c=y("Username "),h=m("input"),d=b(),g=m("label"),x=y("Email "),A=m("input"),C=b(),T=m("label"),_=y("Company "),S=m("input"),$=b(),L=m("label"),M=y("Password\n          "),D=m("input"),N=b(),E=m("label"),j=y("Confirm\n          "),H=m("input"),z=b(),R=m("div"),I=m("button"),I.textContent="Login",F=b(),W=m("button"),W.textContent="Cancel",B=b(),Y=m("p"),Y.innerHTML='Powered by\n          <img src="/img/small_BA_logo_75x75_Cropped.png" alt="BRIDGES AUTOMATION"/>',h.required=!0,A.required=!0,S.required=!0,O(D,"type","password"),D.required=!0,O(H,"type","password"),H.required=!0,O(W,"type","button"),O(R,"class","buttons"),O(Y,"class","svelte-160fwfv"),O(i,"class","svelte-160fwfv"),O(n,"class","svelte-160fwfv")},m(t,r){p(t,n,r),f(n,i),f(i,a),f(i,s),f(i,l),f(l,u),f(u,c),f(u,h),P(h,e[10]),f(l,d),f(l,g),f(g,x),f(g,A),P(A,e[7]),f(l,C),f(l,T),f(T,_),f(T,S),P(S,e[11]),f(l,$),f(l,L),f(L,M),f(L,D),P(D,e[8]),f(l,N),f(l,E),f(E,j),f(E,H),P(H,e[9]),f(l,z),f(l,R),f(R,I),f(R,F),f(R,W),f(l,B),f(l,Y),U||(q=[w(h,"input",e[41]),w(A,"input",e[42]),w(S,"input",e[43]),w(D,"input",e[44]),w(H,"input",e[45]),w(W,"click",e[29]),w(l,"submit",k((function(){o(e[31](e[10],e[7],e[8],e[9]))&&e[31](e[10],e[7],e[8],e[9]).apply(this,arguments)})))],U=!0)},p(t,n){e=t,1024&n[0]&&h.value!==e[10]&&P(h,e[10]),128&n[0]&&A.value!==e[7]&&P(A,e[7]),2048&n[0]&&S.value!==e[11]&&P(S,e[11]),256&n[0]&&D.value!==e[8]&&P(D,e[8]),512&n[0]&&H.value!==e[9]&&P(H,e[9])},i:t,o:t,d(t){t&&v(n),U=!1,r(q)}}}function Ut(e){let n,i,a,s,l,u,c,h,d,g,x,A,C,T,_,S,$,L,M,D,N,E,j;return{c(){n=m("section"),i=m("main"),a=m("h1"),a.innerHTML='<img src="/img/MyOPC_200x200.png" alt="MyOPC"/>',s=b(),l=m("form"),u=m("label"),c=y("Username "),h=m("input"),d=b(),g=m("label"),x=y("Password\n          "),A=m("input"),C=b(),T=m("div"),_=m("button"),_.textContent="Login",S=b(),$=m("button"),$.textContent="Sign Up",L=b(),M=m("p"),M.innerHTML='Powered by\n          <img src="/img/small_BA_logo_75x75_Cropped.png" alt="BRIDGES AUTOMATION"/>',D=b(),N=m("p"),h.required=!0,O(A,"type","password"),A.required=!0,O($,"type","button"),O(T,"class","buttons"),O(M,"class","svelte-160fwfv"),O(i,"class","svelte-160fwfv"),O(N,"class","svelte-160fwfv"),O(n,"class","svelte-160fwfv")},m(t,r){p(t,n,r),f(n,i),f(i,a),f(i,s),f(i,l),f(l,u),f(u,c),f(u,h),P(h,e[1]),f(l,d),f(l,g),f(g,x),f(g,A),P(A,e[0]),f(l,C),f(l,T),f(T,_),f(T,S),f(T,$),f(l,L),f(l,M),f(n,D),f(n,N),E||(j=[w(h,"input",e[39]),w(A,"input",e[40]),w($,"click",e[29]),w(l,"submit",k((function(){o(e[28](e[1],e[0]))&&e[28](e[1],e[0]).apply(this,arguments)})))],E=!0)},p(t,n){e=t,2&n[0]&&h.value!==e[1]&&P(h,e[1]),1&n[0]&&A.value!==e[0]&&P(A,e[0])},i:t,o:t,d(t){t&&v(n),E=!1,r(j)}}}function qt(t){let e,n,i,r,a,s,l,u,c,h,d,g,x,k,A,P,T,_,S,$,L=t[3].email+"",M=(t[4].company||"Loding....")+"";return{c(){e=m("settings_page"),n=m("center"),i=m("p1"),r=y("Email: "),a=y(L),s=b(),l=m("br"),u=b(),c=m("p2"),h=y("Company: "),d=y(M),g=b(),x=m("br"),k=b(),A=m("br"),P=b(),T=m("p1"),T.textContent="Need an API key? Click here ==",_=m("button"),_.textContent="API Key Generator",O(_,"type","button")},m(v,m){p(v,e,m),f(e,n),f(n,i),f(i,r),f(i,a),f(n,s),f(n,l),f(n,u),f(n,c),f(c,h),f(c,d),f(n,g),f(n,x),f(n,k),f(n,A),f(n,P),f(n,T),f(n,_),S||($=w(_,"click",(function(){o(t[32](t[2].token))&&t[32](t[2].token).apply(this,arguments)})),S=!0)},p(e,n){t=e,8&n[0]&&L!==(L=t[3].email+"")&&C(a,L),16&n[0]&&M!==(M=(t[4].company||"Loding....")+"")&&C(d,M)},d(t){t&&v(e),S=!1,$()}}}function Gt(t){let e,n,i,r,o,a,s=t[2]&&Vt(t);return{c(){e=m("instruments_page"),n=m("center"),i=m("h3"),i.textContent="Instruments",r=b(),o=m("instrumentsss"),s&&s.c()},m(t,l){p(t,e,l),f(e,n),f(n,i),f(n,r),f(n,o),s&&s.m(o,null),a=!0},p(t,e){t[2]?s?(s.p(t,e),4&e[0]&&X(s,1)):(s=Vt(t),s.c(),X(s,1),s.m(o,null)):s&&(V(),K(s,1,1,()=>{s=null}),J())},i(t){a||(X(s),a=!0)},o(t){K(s),a=!1},d(t){t&&v(e),s&&s.d()}}}function Vt(t){let e,n,i=t[12],r=[];for(let e=0;e<i.length;e+=1)r[e]=Kt(Wt(t,i,e));const o=t=>K(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);p(t,e,i),n=!0},p(t,n){if(33558528&n[0]){let a;for(i=t[12],a=0;a<i.length;a+=1){const o=Wt(t,i,a);r[a]?(r[a].p(o,n),X(r[a],1)):(r[a]=Kt(o),r[a].c(),X(r[a],1),r[a].m(e.parentNode,e))}for(V(),a=i.length;a<r.length;a+=1)o(a);J()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)X(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)K(r[t]);n=!1},d(t){g(r,t),t&&v(e)}}}function Jt(e){let n,i;return n=new jt({props:{data:e[76][1],type:"line"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),i=!0},p:t,i(t){i||(X(n.$$.fragment,t),i=!0)},o(t){K(n.$$.fragment,t),i=!1},d(t){nt(n,t)}}}function Xt(t){let e,n,i=t[73].unit_id===t[76][0]&&Jt(t);return{c(){i&&i.c(),e=x()},m(t,r){i&&i.m(t,r),p(t,e,r),n=!0},p(t,n){t[73].unit_id===t[76][0]?i?(i.p(t,n),4096&n[0]&&X(i,1)):(i=Jt(t),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(V(),K(i,1,1,()=>{i=null}),J())},i(t){n||(X(i),n=!0)},o(t){K(i),n=!1},d(t){i&&i.d(t),t&&v(e)}}}function Kt(t){let e,n,i,r,o,a,s,l,u,c=t[73].time_stamp+"",h=t[73].unit_id+"",d=t[73].sensor_reading+"",w=t[25],k=[];for(let e=0;e<w.length;e+=1)k[e]=Xt(Ft(t,w,e));const A=t=>K(k[t],1,1,()=>{k[t]=null});return{c(){e=m("li"),n=y(c),i=y("---"),r=y(h),o=y(": "),a=y(d),s=b();for(let t=0;t<k.length;t+=1)k[t].c();l=x(),O(e,"class","svelte-160fwfv")},m(t,c){p(t,e,c),f(e,n),f(e,i),f(e,r),f(e,o),f(e,a),p(t,s,c);for(let e=0;e<k.length;e+=1)k[e].m(t,c);p(t,l,c),u=!0},p(t,e){if((!u||4096&e[0])&&c!==(c=t[73].time_stamp+"")&&C(n,c),(!u||4096&e[0])&&h!==(h=t[73].unit_id+"")&&C(r,h),(!u||4096&e[0])&&d!==(d=t[73].sensor_reading+"")&&C(a,d),33558528&e[0]){let n;for(w=t[25],n=0;n<w.length;n+=1){const i=Ft(t,w,n);k[n]?(k[n].p(i,e),X(k[n],1)):(k[n]=Xt(i),k[n].c(),X(k[n],1),k[n].m(l.parentNode,l))}for(V(),n=w.length;n<k.length;n+=1)A(n);J()}},i(t){if(!u){for(let t=0;t<w.length;t+=1)X(k[t]);u=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)K(k[t]);u=!1},d(t){t&&v(e),t&&v(s),g(k,t),t&&v(l)}}}function Qt(t){let e,n,i,r,o,a,s,l,u,c,h,d,g,x=t[3].name+"",k=t[17]&&Zt(t),O=t[4].collections&&te(t);return{c(){e=m("collections_page"),n=m("center"),i=m("h3"),r=y(x),o=y("'s Collections\n\t     \n            "),a=m("button"),a.textContent="add",s=b(),l=m("hr"),u=b(),k&&k.c(),c=b(),h=m("collections"),O&&O.c()},m(v,m){p(v,e,m),f(e,n),f(n,i),f(i,r),f(i,o),f(i,a),f(n,s),f(n,l),f(n,u),k&&k.m(n,null),f(n,c),f(n,h),O&&O.m(h,null),d||(g=w(a,"click",t[37]),d=!0)},p(t,e){8&e[0]&&x!==(x=t[3].name+"")&&C(r,x),t[17]?k?k.p(t,e):(k=Zt(t),k.c(),k.m(n,c)):k&&(k.d(1),k=null),t[4].collections?O?O.p(t,e):(O=te(t),O.c(),O.m(h,null)):O&&(O.d(1),O=null)},d(t){t&&v(e),k&&k.d(),O&&O.d(),d=!1,g()}}}function Zt(t){let e,n,i,a,s,l,u,c,h,d,g,x,A,C,T,_,S,$;return{c(){e=m("form"),n=m("label"),i=y("Collection Name\n                "),a=m("input"),s=b(),l=m("label"),u=y("Collection Instruments\n                "),c=m("input"),h=b(),d=m("label"),g=y("Collection Users\n                "),x=m("input"),A=b(),C=m("div"),C.innerHTML="<button>Submit</button>",T=b(),_=m("p"),_.innerHTML='Powered by\n                <img src="/img/small_BA_logo_75x75_Cropped.png" alt="BRIDGES AUTOMATION"/>',a.required=!0,c.required=!0,x.required=!0,O(C,"class","buttons"),O(_,"class","svelte-160fwfv")},m(r,v){p(r,e,v),f(e,n),f(n,i),f(n,a),P(a,t[18]),f(e,s),f(e,l),f(l,u),f(l,c),P(c,t[21]),f(e,h),f(e,d),f(d,g),f(d,x),P(x,t[20]),f(e,A),f(e,C),f(e,T),f(e,_),S||($=[w(a,"input",t[46]),w(c,"input",t[47]),w(x,"input",t[48]),w(e,"submit",k((function(){o(t[30](t[18],t[21],t[20],t[19]))&&t[30](t[18],t[21],t[20],t[19]).apply(this,arguments)})))],S=!0)},p(e,n){t=e,262144&n[0]&&a.value!==t[18]&&P(a,t[18]),2097152&n[0]&&c.value!==t[21]&&P(c,t[21]),1048576&n[0]&&x.value!==t[20]&&P(x,t[20])},d(t){t&&v(e),S=!1,r($)}}}function te(t){let e,n=t[4].collections,i=[];for(let e=0;e<n.length;e+=1)i[e]=le(It(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=x()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);p(t,e,n)},p(t,r){if(213975058&r[0]|4&r[1]){let o;for(n=t[4].collections,o=0;o<n.length;o+=1){const a=It(t,n,o);i[o]?i[o].p(a,r):(i[o]=le(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(t){g(i,t),t&&v(e)}}}function ee(t){let e,n,i,a,s,l,u,c,h,d,x,A,C,T,_,S,$,L=t[61].collection_people,M=[];for(let e=0;e<L.length;e+=1)M[e]=ne(Rt(t,L,e));let D=t[61].collection_instruments,N=[];for(let e=0;e<D.length;e+=1)N[e]=ae(zt(t,D,e));let E=t[61].collection_comments,j=[];for(let e=0;e<E.length;e+=1)j[e]=se(Ht(t,E,e));function H(){t[50].call(C,t[63])}return{c(){e=m("h3"),e.textContent="Members",n=b();for(let t=0;t<M.length;t+=1)M[t].c();i=b(),a=m("h3"),a.textContent="Instuments",s=b();for(let t=0;t<N.length;t+=1)N[t].c();l=b(),u=m("h3"),u.textContent="Comments",c=b();for(let t=0;t<j.length;t+=1)j[t].c();h=b(),d=m("form"),x=m("label"),A=y("New Comment: "),C=m("textarea"),T=b(),_=m("div"),_.innerHTML="<button>Submit</button>",C.required=!0,O(_,"class","buttons")},m(r,v){p(r,e,v),p(r,n,v);for(let t=0;t<M.length;t+=1)M[t].m(r,v);p(r,i,v),p(r,a,v),p(r,s,v);for(let t=0;t<N.length;t+=1)N[t].m(r,v);p(r,l,v),p(r,u,v),p(r,c,v);for(let t=0;t<j.length;t+=1)j[t].m(r,v);p(r,h,v),p(r,d,v),f(d,x),f(x,A),f(x,C),P(C,t[22][t[63]]),f(d,T),f(d,_),S||($=[w(C,"input",H),w(d,"submit",k((function(){o(t[27](t[61].collection_name,t[22][t[63]],t[1],t[61].collection_people.toString()+","+(t[61].collection_owner||t[1])))&&t[27](t[61].collection_name,t[22][t[63]],t[1],t[61].collection_people.toString()+","+(t[61].collection_owner||t[1])).apply(this,arguments)})))],S=!0)},p(e,n){if(t=e,16&n[0]){let e;for(L=t[61].collection_people,e=0;e<L.length;e+=1){const r=Rt(t,L,e);M[e]?M[e].p(r,n):(M[e]=ne(r),M[e].c(),M[e].m(i.parentNode,i))}for(;e<M.length;e+=1)M[e].d(1);M.length=L.length}if(75497490&n[0]|4&n[1]){let e;for(D=t[61].collection_instruments,e=0;e<D.length;e+=1){const i=zt(t,D,e);N[e]?N[e].p(i,n):(N[e]=ae(i),N[e].c(),N[e].m(l.parentNode,l))}for(;e<N.length;e+=1)N[e].d(1);N.length=D.length}if(16&n[0]){let e;for(E=t[61].collection_comments,e=0;e<E.length;e+=1){const i=Ht(t,E,e);j[e]?j[e].p(i,n):(j[e]=se(i),j[e].c(),j[e].m(h.parentNode,h))}for(;e<j.length;e+=1)j[e].d(1);j.length=E.length}4194304&n[0]&&P(C,t[22][t[63]])},d(t){t&&v(e),t&&v(n),g(M,t),t&&v(i),t&&v(a),t&&v(s),g(N,t),t&&v(l),t&&v(u),t&&v(c),g(j,t),t&&v(h),t&&v(d),S=!1,r($)}}}function ne(t){let e,n,i=t[70]+"";return{c(){e=m("li"),n=y(i),O(e,"class","svelte-160fwfv")},m(t,i){p(t,e,i),f(e,n)},p(t,e){16&e[0]&&i!==(i=t[70]+"")&&C(n,i)},d(t){t&&v(e)}}}function ie(t){let e,n,i=t[69].message+"";return{c(){e=m("li"),n=y(i),T(e,"color","red"),O(e,"class","svelte-160fwfv")},m(t,i){p(t,e,i),f(e,n)},p(t,e){18&e[0]&&i!==(i=t[69].message+"")&&C(n,i)},d(t){t&&v(e)}}}function re(t){let e,n,i,a,s,l,u,c,h,d,g,x,_,S,$,L=t[24].instrument_name+"",M=JSON.stringify(t[38])+"",D=t[24].instrument_unit+"";function N(){t[49].call(g,t[68])}return{c(){e=m("li"),n=y(L),i=y(": "),a=m("a"),s=y(M),l=b(),u=y(D),c=m("form"),h=m("label"),d=y("Change Portion: "),g=m("input"),x=b(),_=m("div"),_.innerHTML="<button>Send</button>",T(a,"border","1px"),T(a,"border-style","solid"),T(a,"border-color","#3D3D3D"),g.required=!0,O(g,"type","number"),O(_,"class","buttons"),O(e,"class","svelte-160fwfv")},m(r,v){p(r,e,v),f(e,n),f(e,i),f(e,a),f(a,s),f(a,l),f(a,u),f(e,c),f(c,h),f(h,d),f(h,g),P(g,t[23][t[68]]),f(c,x),f(c,_),S||($=[w(g,"input",N),w(c,"submit",k((function(){o(t[26](t[23][t[68]],t[24].instrument_name,t[61].collection_name,t[61].collection_people,t[61].collection_owner||t[1]))&&t[26](t[23][t[68]],t[24].instrument_name,t[61].collection_name,t[61].collection_people,t[61].collection_owner||t[1]).apply(this,arguments)})))],S=!0)},p(e,i){t=e,16&i[0]&&L!==(L=t[24].instrument_name+"")&&C(n,L),18&i[0]&&M!==(M=JSON.stringify(t[38])+"")&&C(s,M),16&i[0]&&D!==(D=t[24].instrument_unit+"")&&C(u,D),8388608&i[0]&&A(g.value)!==t[23][t[68]]&&P(g,t[23][t[68]])},d(t){t&&v(e),S=!1,r($)}}}function oe(t){let e,n,i,r=t[24].instrument_name+"";return{c(){e=m("li"),n=y("Loading..."),i=y(r),O(e,"class","svelte-160fwfv")},m(t,r){p(t,e,r),f(e,n),f(e,i)},p(t,e){16&e[0]&&r!==(r=t[24].instrument_name+"")&&C(i,r)},d(t){t&&v(e)}}}function ae(t){let e,n,i={ctx:t,current:null,token:null,hasCatch:!0,pending:oe,then:re,catch:ie,value:38,error:69};return Q(n=t[33](t[61].collection_owner||t[1],t[24].instrument_name,t[61].collection_name),i),{c(){e=x(),i.block.c()},m(t,n){p(t,e,n),i.block.m(t,i.anchor=n),i.mount=()=>e.parentNode,i.anchor=e},p(e,r){if(t=e,i.ctx=t,18&r[0]&&n!==(n=t[33](t[61].collection_owner||t[1],t[24].instrument_name,t[61].collection_name))&&Q(n,i));else{const e=t.slice();e[38]=e[69]=i.resolved,i.block.p(e,r)}},d(t){t&&v(e),i.block.d(t),i.token=null,i=null}}}function se(t){let e,n,i,r,o,a,s,l,u,c=t[64].author+"",h=t[64].post_time+"",d=t[64].comment+"";return{c(){e=m("h4"),n=y(c),i=y(" at "),r=y(h),o=b(),a=m("p"),s=y(d),l=b(),u=m("hr"),O(a,"class","svelte-160fwfv")},m(t,c){p(t,e,c),f(e,n),f(e,i),f(e,r),p(t,o,c),p(t,a,c),f(a,s),p(t,l,c),p(t,u,c)},p(t,e){16&e[0]&&c!==(c=t[64].author+"")&&C(n,c),16&e[0]&&h!==(h=t[64].post_time+"")&&C(r,h),16&e[0]&&d!==(d=t[64].comment+"")&&C(s,d)},d(t){t&&v(e),t&&v(o),t&&v(a),t&&v(l),t&&v(u)}}}function le(t){let e,n,i,r,o,a=t[61].collection_name+"",s=t[16]&&ee(t);return{c(){e=m("div"),n=m("h3"),i=y(a),r=b(),s&&s.c(),o=b(),T(e,"border","3px"),T(e,"border-style","solid"),T(e,"border-color","#3D3D3D"),T(e,"padding","1em")},m(t,a){p(t,e,a),f(e,n),f(n,i),f(e,r),s&&s.m(e,null),f(e,o)},p(t,n){16&n[0]&&a!==(a=t[61].collection_name+"")&&C(i,a),t[16]?s?s.p(t,n):(s=ee(t),s.c(),s.m(e,o)):s&&(s.d(1),s=null)},d(t){t&&v(e),s&&s.d()}}}function ue(t){let e,n,i,r;const o=[Ut,Yt,Bt],a=[];function s(t,e){return t[5]&&!t[6]?0:t[6]?1:2}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),i=x()},m(t,n){a[e].m(t,n),p(t,i,n),r=!0},p(t,r){let l=e;e=s(t),e===l?a[e].p(t,r):(V(),K(a[l],1,1,()=>{a[l]=null}),J(),n=a[e],n||(n=a[e]=o[e](t),n.c()),X(n,1),n.m(i.parentNode,i))},i(t){r||(X(n),r=!0)},o(t){K(n),r=!1},d(t){a[e].d(t),t&&v(i)}}}function ce(t,e){e=e||80;return"http://www.gravatar.com/avatar/"+function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,r,o,a;return r=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function i(t,i,r,o,a,s,l){return t=n(t,n(n(function(t,e,n){return t&e|~t&n}(i,r,o),a),l)),n(e(t,s),i)}function r(t,i,r,o,a,s,l){return t=n(t,n(n(function(t,e,n){return t&n|e&~n}(i,r,o),a),l)),n(e(t,s),i)}function o(t,i,r,o,a,s,l){return t=n(t,n(n(function(t,e,n){return t^e^n}(i,r,o),a),l)),n(e(t,s),i)}function a(t,i,r,o,a,s,l){return t=n(t,n(n(function(t,e,n){return e^(t|~n)}(i,r,o),a),l)),n(e(t,s),i)}function s(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return n}var l,u,c,h,d,f,p,v,g,m=Array();for(m=function(t){for(var e,n=t.length,i=n+8,r=16*((i-i%64)/64+1),o=Array(r-1),a=0,s=0;s<n;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[r-2]=n<<3,o[r-1]=n>>>29,o}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}(t)),f=1732584193,p=4023233417,v=2562383102,g=271733878,l=0;l<m.length;l+=16)u=f,c=p,h=v,d=g,f=i(f,p,v,g,m[l+0],7,3614090360),g=i(g,f,p,v,m[l+1],12,3905402710),v=i(v,g,f,p,m[l+2],17,606105819),p=i(p,v,g,f,m[l+3],22,3250441966),f=i(f,p,v,g,m[l+4],7,4118548399),g=i(g,f,p,v,m[l+5],12,1200080426),v=i(v,g,f,p,m[l+6],17,2821735955),p=i(p,v,g,f,m[l+7],22,4249261313),f=i(f,p,v,g,m[l+8],7,1770035416),g=i(g,f,p,v,m[l+9],12,2336552879),v=i(v,g,f,p,m[l+10],17,4294925233),p=i(p,v,g,f,m[l+11],22,2304563134),f=i(f,p,v,g,m[l+12],7,1804603682),g=i(g,f,p,v,m[l+13],12,4254626195),v=i(v,g,f,p,m[l+14],17,2792965006),f=r(f,p=i(p,v,g,f,m[l+15],22,1236535329),v,g,m[l+1],5,4129170786),g=r(g,f,p,v,m[l+6],9,3225465664),v=r(v,g,f,p,m[l+11],14,643717713),p=r(p,v,g,f,m[l+0],20,3921069994),f=r(f,p,v,g,m[l+5],5,3593408605),g=r(g,f,p,v,m[l+10],9,38016083),v=r(v,g,f,p,m[l+15],14,3634488961),p=r(p,v,g,f,m[l+4],20,3889429448),f=r(f,p,v,g,m[l+9],5,568446438),g=r(g,f,p,v,m[l+14],9,3275163606),v=r(v,g,f,p,m[l+3],14,4107603335),p=r(p,v,g,f,m[l+8],20,1163531501),f=r(f,p,v,g,m[l+13],5,2850285829),g=r(g,f,p,v,m[l+2],9,4243563512),v=r(v,g,f,p,m[l+7],14,1735328473),f=o(f,p=r(p,v,g,f,m[l+12],20,2368359562),v,g,m[l+5],4,4294588738),g=o(g,f,p,v,m[l+8],11,2272392833),v=o(v,g,f,p,m[l+11],16,1839030562),p=o(p,v,g,f,m[l+14],23,4259657740),f=o(f,p,v,g,m[l+1],4,2763975236),g=o(g,f,p,v,m[l+4],11,1272893353),v=o(v,g,f,p,m[l+7],16,4139469664),p=o(p,v,g,f,m[l+10],23,3200236656),f=o(f,p,v,g,m[l+13],4,681279174),g=o(g,f,p,v,m[l+0],11,3936430074),v=o(v,g,f,p,m[l+3],16,3572445317),p=o(p,v,g,f,m[l+6],23,76029189),f=o(f,p,v,g,m[l+9],4,3654602809),g=o(g,f,p,v,m[l+12],11,3873151461),v=o(v,g,f,p,m[l+15],16,530742520),f=a(f,p=o(p,v,g,f,m[l+2],23,3299628645),v,g,m[l+0],6,4096336452),g=a(g,f,p,v,m[l+7],10,1126891415),v=a(v,g,f,p,m[l+14],15,2878612391),p=a(p,v,g,f,m[l+5],21,4237533241),f=a(f,p,v,g,m[l+12],6,1700485571),g=a(g,f,p,v,m[l+3],10,2399980690),v=a(v,g,f,p,m[l+10],15,4293915773),p=a(p,v,g,f,m[l+1],21,2240044497),f=a(f,p,v,g,m[l+8],6,1873313359),g=a(g,f,p,v,m[l+15],10,4264355552),v=a(v,g,f,p,m[l+6],15,2734768916),p=a(p,v,g,f,m[l+13],21,1309151649),f=a(f,p,v,g,m[l+4],6,4149444226),g=a(g,f,p,v,m[l+11],10,3174756917),v=a(v,g,f,p,m[l+2],15,718787259),p=a(p,v,g,f,m[l+9],21,3951481745),f=n(f,u),p=n(p,c),v=n(v,h),g=n(g,d);return(s(f)+s(p)+s(v)+s(g)).toLowerCase()}(t)+".jpg?s="+e}function he(t){var e=new Date(t),n=""+(e.getUTCMonth()+1),i=""+e.getUTCDate(),r=e.getUTCFullYear(),o=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[r,n,i].join("-")+" "+[o,a,s].join(":")}function de(t,e,n){let i,r,o,a,s,l="",u="",c=null,h=null,d={company:"Loading"},f=!0,p=!1,v="",g="",m="",y="",b="",x="",w=[],k=[],O=!1,C=!1,P=!1,T=!1,_=[],S=[],$=[];function L(t,e){var i=new Headers;i.append("Content-Type","application/json");var r=JSON.stringify({email:""+t,password:""+e});fetch("http://bridgesautomation.duckdns.org:5778/auth",{method:"POST",headers:i,body:r,redirect:"follow"}).then(t=>t.json()).then(t=>{n(2,c=t),(e=new Headers).append("x-auth-token",""+c.token),s=""+c.token;var e,i={method:"GET",headers:e,redirect:"follow"};fetch("http://bridgesautomation.duckdns.org:5778/profile/me",i).then(t=>t.json()).then(t=>{n(4,d=t),w=D(d)}).catch(t=>console.log("error",t)),(e=new Headers).append("x-auth-token",""+c.token);i={method:"GET",headers:e,redirect:"follow"};fetch("http://bridgesautomation.duckdns.org:5778/auth",i).then(t=>t.json()).then(t=>{n(3,h=t),n(5,f=!1)}).catch(t=>console.log("error",t))}).catch(t=>console.log("error",t))}const M=(t,e)=>{var i=new Headers;i.append("Content-Type","application/json"),i.append("x-auth-token",t);var r=JSON.stringify({company:e});fetch("http://bridgesautomation.duckdns.org:5778/profile",{method:"POST",headers:i,body:r,redirect:"follow"}).then(t=>t.json()).then(t=>{n(6,p=!1),L(v,g)}).catch(t=>console.log("error",t))};setInterval(()=>{try{function t(t,e,n){var i=new Headers;i.append("Content-Type","application/json"),i.append("x-auth-token",c.token),fetch(`http://bridgesautomation.duckdns.org:5778/data/rangeRecords/${t}/${e}/${n}`,{method:"GET",headers:i,redirect:"follow"}).then(t=>t.json()).then(t=>{try{if(t){if(w.includes(t[2][0].unit_id.trim())){let e=!1,n=0;for(;n<_.length&&!1===e;)_[n][0].trim()===t[2][0].unit_id.trim()&&(e=!0),n++;if(!e){let e=[t[2][0].unit_id,{labels:[],datasets:[{values:[]}]}];for(let n=0;n<t[2].length;n++)e[1].datasets[0].values.push(t[2][n].sensor_reading),e[1].labels.push(t[2][n].time_stamp);_.unshift(e)}e=!1}else console.log("else")}}catch(t){console.log(t)}}).catch(t=>console.log("error:",t))}for(let r=0;r<d.instruments.length;r++){e=d.instruments[r],i=void 0,(i=new Headers).append("Content-Type","application/json"),i.append("x-auth-token",c.token),fetch("http://bridgesautomation.duckdns.org:5778/data/latestRecord/"+e,{method:"GET",headers:i,redirect:"follow"}).then(t=>t.json()).then(t=>{if(n(24,x=t),w.includes(x[2][0].unit_id.trim())){let t=!1;for(let e=0;e<k.length;e++)k[e].unit_id.trim()===x[2][0].unit_id.trim()&&(n(12,k[e]=x[2][0],k),t=!0);t||(k.unshift(x[2][0]),t=!1)}}).catch(t=>console.log("error",t));let o=new Date,a=new Date;a.setDate(a.getDate()-.001),t(d.instruments[r],he(a),he(o))}}catch(t){console.error(t.message)}var e,i},5e3);const D=t=>t.instruments;return[l,u,c,h,d,f,p,v,g,m,y,b,k,O,C,P,!0,T,i,r,o,a,S,$,x,_,async function(t,e,n,i,r){var o=new Headers;o.append("Content-Type","application/json"),o.append("x-auth-token",""+s);var a={method:"POST",headers:o,redirect:"follow",body:JSON.stringify({collection_owner:""+r,collection_users:""+i,collection_name:""+n,collection_instrument:""+e,collection_portion:""+t})};let l=await fetch("http://bridgesautomation.duckdns.org:5778/profile/collection/portion",a);console.log(l)},function(t,e,n,i){var r=new Headers;r.append("Content-Type","application/json"),r.append("x-auth-token",""+s),console.log(i);let o=JSON.stringify({collection_comment:""+e,collection_users:""+i,comment_author:""+n});fetch("http://bridgesautomation.duckdns.org:5778/profile/comment/"+t,{method:"POST",headers:r,redirect:"follow",body:o}),console.log(o)},L,()=>{n(6,p=!p)},async(t,e,i)=>{if(!t&&!e&&!i)return{msg:"Entire form needs filled out"};n(19,r=u);var o=new Headers;o.append("Content-Type","application/json"),o.append("x-auth-token",c.token);fetch("http://bridgesautomation.duckdns.org:5778/profile/createCollection",{method:"POST",headers:o,body:`{ \n      \n    "collection_owner": "${r}",\n    "collection_name": "${t}",\n    "collection_users": "${i}",\n    "collection_instruments": "${e}"\n\n\n     }`,redirect:"follow"});console.log("sent fetch...")},(t,e,n,i)=>{if(n!=i)return{msg:"Passwords did not match"};var r=new Headers;r.append("Content-Type","application/json");var o=JSON.stringify({name:t,email:e,password:n});fetch("http://bridgesautomation.duckdns.org:5778/users",{method:"POST",headers:r,body:o,redirect:"follow"}).then(t=>t.json()).then(t=>{s=t.token,M(t.token,b)}).catch(t=>console.log("error",t))},t=>{var e=new Headers;e.append("Content-Type","application/json"),e.append("x-auth-token",t),fetch("http://bridgesautomation.duckdns.org:5778/profile/settings/genKey",{method:"POST",headers:e,redirect:"follow"}).then(t=>t.json()).then(t=>{alert(JSON.stringify(t))}).catch(t=>console.log("error",t))},async function(t,e,n){try{var i=new Headers;i.append("Content-Type","application/json"),i.append("x-auth-token",c.token);var r={method:"GET",headers:i,redirect:"follow"};let o=await fetch(`http://bridgesautomation.duckdns.org:5778/data/latestRecord/${t}/${e}/${n}`,r),a=await o.json();return console.log(a),a[1][0].sensor_reading}catch(t){console.log(t)}},()=>n(13,O=!O),()=>n(14,C=!C),()=>n(15,P=!P),()=>n(17,T=!T),{labels:["a"],datasets:[{values:[1]}]},function(){u=this.value,n(1,u)},function(){l=this.value,n(0,l)},function(){y=this.value,n(10,y)},function(){v=this.value,n(7,v)},function(){b=this.value,n(11,b)},function(){g=this.value,n(8,g)},function(){m=this.value,n(9,m)},function(){i=this.value,n(18,i)},function(){a=this.value,n(21,a)},function(){o=this.value,n(20,o)},function(t){$[t]=A(this.value),n(23,$)},function(t){S[t]=this.value,n(22,S)}]}class fe extends ot{constructor(t){super(),rt(this,t,de,ue,a,{},[-1,-1,-1])}}function pe(e){let n;return{c(){n=y("Home")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class ve extends ot{constructor(t){super(),rt(this,t,null,pe,a,{})}}function ge(t){let e,n;return e=new ve({}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function me(t){let e,n,i,r,o,a;return i=new $t({props:{path:"/",component:fe}}),o=new $t({props:{path:"/",$$slots:{default:[ge]},$$scope:{ctx:t}}}),{c(){e=b(),n=m("div"),tt(i.$$.fragment),r=b(),tt(o.$$.fragment)},m(t,s){p(t,e,s),p(t,n,s),et(i,n,null),f(n,r),et(o,n,null),a=!0},p(t,e){const n={};2&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){a||(X(false),X(i.$$.fragment,t),X(o.$$.fragment,t),a=!0)},o(t){K(false),K(i.$$.fragment,t),K(o.$$.fragment,t),a=!1},d(t){t&&v(e),t&&v(n),nt(i),nt(o)}}}function ye(t){let e,n;return e=new kt({props:{url:t[0],$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.url=t[0]),2&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function be(t,e,n){let{url:i=""}=e;return t.$$set=t=>{"url"in t&&n(0,i=t.url)},[i]}return new class extends ot{constructor(t){super(),rt(this,t,be,ye,a,{url:0})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
